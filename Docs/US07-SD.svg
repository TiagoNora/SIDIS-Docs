<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentStyleType="text/css" height="1355px" preserveAspectRatio="none" style="width:2080px;height:1355px;background:#FFFFFF;" version="1.1" viewBox="0 0 2080 1355" width="2080px" zoomAndPan="magnify"><defs/><g><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="197" x="940" y="30.1074">Withdraw one of my reviews</text><rect fill="#FFFFFF" height="981.4395" style="stroke:#181818;stroke-width:1.0;" width="10" x="21" y="281.6973"/><rect fill="#FFFFFF" height="941.1484" style="stroke:#181818;stroke-width:1.0;" width="10" x="212" y="312.9883"/><rect fill="#FFFFFF" height="480.7832" style="stroke:#181818;stroke-width:1.0;" width="10" x="298.5" y="782.3535"/><rect fill="#FFFFFF" height="441.4922" style="stroke:#181818;stroke-width:1.0;" width="10" x="303.5" y="821.6445"/><rect fill="#FFFFFF" height="405.2012" style="stroke:#181818;stroke-width:1.0;" width="10" x="423.5" y="857.9355"/><rect fill="#FFFFFF" height="365.9102" style="stroke:#181818;stroke-width:1.0;" width="10" x="428.5" y="897.2266"/><rect fill="#FFFFFF" height="329.6191" style="stroke:#181818;stroke-width:1.0;" width="10" x="548.5" y="933.5176"/><rect fill="#FFFFFF" height="290.3281" style="stroke:#181818;stroke-width:1.0;" width="10" x="553.5" y="972.8086"/><rect fill="#FFFFFF" height="254.0371" style="stroke:#181818;stroke-width:1.0;" width="10" x="673.5" y="1009.0996"/><rect fill="#FFFFFF" height="214.7461" style="stroke:#181818;stroke-width:1.0;" width="10" x="678.5" y="1048.3906"/><rect fill="#FFFFFF" height="178.4551" style="stroke:#181818;stroke-width:1.0;" width="10" x="798.5" y="1084.6816"/><rect fill="#FFFFFF" height="139.1641" style="stroke:#181818;stroke-width:1.0;" width="10" x="803.5" y="1123.9727"/><rect fill="#FFFFFF" height="878.5664" style="stroke:#181818;stroke-width:1.0;" width="10" x="923.5" y="344.2793"/><rect fill="#FFFFFF" height="815.9844" style="stroke:#181818;stroke-width:1.0;" width="10" x="1163.5" y="375.5703"/><rect fill="#FFFFFF" height="440.4922" style="stroke:#181818;stroke-width:1.0;" width="10" x="1426.5" y="719.7715"/><rect fill="#FFFFFF" height="31.291" style="stroke:#181818;stroke-width:1.0;" width="10" x="1660.5" y="406.8613"/><rect fill="#FFFFFF" height="93.873" style="stroke:#181818;stroke-width:1.0;" width="10" x="1660.5" y="469.4434"/><rect fill="#FFFFFF" height="93.873" style="stroke:#181818;stroke-width:1.0;" width="10" x="1660.5" y="594.6074"/><rect fill="#FFFFFF" height="31.291" style="stroke:#181818;stroke-width:1.0;" width="10" x="1835" y="625.8984"/><rect fill="#FFFFFF" height="31.291" style="stroke:#181818;stroke-width:1.0;" width="10" x="1953" y="500.7344"/><rect fill="#FFFFFF" height="1106.6035" style="stroke:#181818;stroke-width:1.0;" width="10" x="2040.5" y="156.5332"/><rect fill="#FFFFFF" height="1075.3125" style="stroke:#181818;stroke-width:1.0;" width="10" x="2045.5" y="187.8242"/><rect fill="#FFFFFF" height="1044.0215" style="stroke:#181818;stroke-width:1.0;" width="10" x="2050.5" y="219.1152"/><rect fill="#FFFFFF" height="1012.7305" style="stroke:#181818;stroke-width:1.0;" width="10" x="2055.5" y="250.4063"/><rect fill="#FFFFFF" height="981.4395" style="stroke:#181818;stroke-width:1.0;" width="10" x="2060.5" y="281.6973"/><rect fill="#FFFFFF" height="512.0742" style="stroke:#181818;stroke-width:1.0;" width="10" x="2065.5" y="751.0625"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="26" x2="26" y1="123.2422" y2="1272.1367"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="216.5" x2="216.5" y1="123.2422" y2="1272.1367"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="303.5" x2="303.5" y1="123.2422" y2="1272.1367"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="428" x2="428" y1="123.2422" y2="1272.1367"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="553" x2="553" y1="123.2422" y2="1272.1367"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="678" x2="678" y1="123.2422" y2="1272.1367"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="803" x2="803" y1="123.2422" y2="1272.1367"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="928" x2="928" y1="123.2422" y2="1272.1367"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="1168" x2="1168" y1="123.2422" y2="1272.1367"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="1431" x2="1431" y1="123.2422" y2="1272.1367"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="1665" x2="1665" y1="123.2422" y2="1272.1367"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="1840" x2="1840" y1="123.2422" y2="1272.1367"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="1958" x2="1958" y1="123.2422" y2="1272.1367"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="2045" x2="2045" y1="123.2422" y2="1272.1367"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="36" x="5" y="119.7285">Client</text><ellipse cx="26" cy="53.1211" fill="#E2E2F0" rx="8" ry="8" style="stroke:#181818;stroke-width:0.5;"/><path d="M26,61.1211 L26,88.1211 M13,69.1211 L39,69.1211 M26,88.1211 L13,103.1211 M26,88.1211 L39,103.1211 " fill="none" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="36" x="5" y="1286.2441">Client</text><ellipse cx="26" cy="1298.2578" fill="#E2E2F0" rx="8" ry="8" style="stroke:#181818;stroke-width:0.5;"/><path d="M26,1306.2578 L26,1333.2578 M13,1314.2578 L39,1314.2578 M26,1333.2578 L13,1348.2578 M26,1333.2578 L39,1348.2578 " fill="none" style="stroke:#181818;stroke-width:0.5;"/><rect fill="#E2E2F0" height="32.6211" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="73" x="180.5" y="89.6211"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="59" x="187.5" y="111.7285">:ReviewC</text><rect fill="#E2E2F0" height="32.6211" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="73" x="180.5" y="1271.1367"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="59" x="187.5" y="1293.2441">:ReviewC</text><rect fill="#E2E2F0" height="32.6211" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="80" x="263.5" y="89.6211"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="66" x="270.5" y="111.7285">reviewC_n</text><rect fill="#E2E2F0" height="32.6211" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="80" x="263.5" y="1271.1367"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="66" x="270.5" y="1293.2441">reviewC_n</text><rect fill="#E2E2F0" height="32.6211" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="65" x="396" y="89.6211"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="51" x="403" y="111.7285">reviewQ</text><rect fill="#E2E2F0" height="32.6211" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="65" x="396" y="1271.1367"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="51" x="403" y="1293.2441">reviewQ</text><rect fill="#E2E2F0" height="32.6211" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="81" x="513" y="89.6211"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="67" x="520" y="111.7285">reviewQ_n</text><rect fill="#E2E2F0" height="32.6211" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="81" x="513" y="1271.1367"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="67" x="520" y="1293.2441">reviewQ_n</text><rect fill="#E2E2F0" height="32.6211" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="51" x="653" y="89.6211"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="37" x="660" y="111.7285">voteC</text><rect fill="#E2E2F0" height="32.6211" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="51" x="653" y="1271.1367"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="37" x="660" y="1293.2441">voteC</text><rect fill="#E2E2F0" height="32.6211" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="67" x="770" y="89.6211"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="53" x="777" y="111.7285">voteC_n</text><rect fill="#E2E2F0" height="32.6211" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="67" x="770" y="1271.1367"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="53" x="777" y="1293.2441">voteC_n</text><rect fill="#E2E2F0" height="32.6211" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="121" x="868" y="89.6211"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="107" x="875" y="111.7285">ReviewController</text><rect fill="#E2E2F0" height="32.6211" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="121" x="868" y="1271.1367"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="107" x="875" y="1293.2441">ReviewController</text><rect fill="#E2E2F0" height="32.6211" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="197" x="1070" y="89.6211"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="183" x="1077" y="111.7285">reviewService:ReviewService</text><rect fill="#E2E2F0" height="32.6211" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="197" x="1070" y="1271.1367"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="183" x="1077" y="1293.2441">reviewService:ReviewService</text><rect fill="#E2E2F0" height="32.6211" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="235" x="1314" y="89.6211"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="221" x="1321" y="111.7285">reviewRepositoryReviewRepository</text><rect fill="#E2E2F0" height="32.6211" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="235" x="1314" y="1271.1367"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="221" x="1321" y="1293.2441">reviewRepositoryReviewRepository</text><rect fill="#E2E2F0" height="32.6211" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="213" x="1559" y="89.6211"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="199" x="1566" y="111.7285">requestService:RequestService</text><rect fill="#E2E2F0" height="32.6211" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="213" x="1559" y="1271.1367"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="199" x="1566" y="1293.2441">requestService:RequestService</text><rect fill="#E2E2F0" height="32.6211" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="116" x="1782" y="89.6211"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="102" x="1789" y="111.7285">:ReviewInstance</text><rect fill="#E2E2F0" height="32.6211" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="116" x="1782" y="1271.1367"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="102" x="1789" y="1293.2441">:ReviewInstance</text><rect fill="#E2E2F0" height="32.6211" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="100" x="1908" y="89.6211"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="86" x="1915" y="111.7285">:AuthInstance</text><rect fill="#E2E2F0" height="32.6211" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="100" x="1908" y="1271.1367"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="86" x="1915" y="1293.2441">:AuthInstance</text><rect fill="#E2E2F0" height="32.6211" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="55" x="2018" y="89.6211"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="41" x="2025" y="111.7285">broker</text><rect fill="#E2E2F0" height="32.6211" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="55" x="2018" y="1271.1367"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="41" x="2025" y="1293.2441">broker</text><rect fill="#FFFFFF" height="981.4395" style="stroke:#181818;stroke-width:1.0;" width="10" x="21" y="281.6973"/><rect fill="#FFFFFF" height="941.1484" style="stroke:#181818;stroke-width:1.0;" width="10" x="212" y="312.9883"/><rect fill="#FFFFFF" height="480.7832" style="stroke:#181818;stroke-width:1.0;" width="10" x="298.5" y="782.3535"/><rect fill="#FFFFFF" height="441.4922" style="stroke:#181818;stroke-width:1.0;" width="10" x="303.5" y="821.6445"/><rect fill="#FFFFFF" height="405.2012" style="stroke:#181818;stroke-width:1.0;" width="10" x="423.5" y="857.9355"/><rect fill="#FFFFFF" height="365.9102" style="stroke:#181818;stroke-width:1.0;" width="10" x="428.5" y="897.2266"/><rect fill="#FFFFFF" height="329.6191" style="stroke:#181818;stroke-width:1.0;" width="10" x="548.5" y="933.5176"/><rect fill="#FFFFFF" height="290.3281" style="stroke:#181818;stroke-width:1.0;" width="10" x="553.5" y="972.8086"/><rect fill="#FFFFFF" height="254.0371" style="stroke:#181818;stroke-width:1.0;" width="10" x="673.5" y="1009.0996"/><rect fill="#FFFFFF" height="214.7461" style="stroke:#181818;stroke-width:1.0;" width="10" x="678.5" y="1048.3906"/><rect fill="#FFFFFF" height="178.4551" style="stroke:#181818;stroke-width:1.0;" width="10" x="798.5" y="1084.6816"/><rect fill="#FFFFFF" height="139.1641" style="stroke:#181818;stroke-width:1.0;" width="10" x="803.5" y="1123.9727"/><rect fill="#FFFFFF" height="878.5664" style="stroke:#181818;stroke-width:1.0;" width="10" x="923.5" y="344.2793"/><rect fill="#FFFFFF" height="815.9844" style="stroke:#181818;stroke-width:1.0;" width="10" x="1163.5" y="375.5703"/><rect fill="#FFFFFF" height="440.4922" style="stroke:#181818;stroke-width:1.0;" width="10" x="1426.5" y="719.7715"/><rect fill="#FFFFFF" height="31.291" style="stroke:#181818;stroke-width:1.0;" width="10" x="1660.5" y="406.8613"/><rect fill="#FFFFFF" height="93.873" style="stroke:#181818;stroke-width:1.0;" width="10" x="1660.5" y="469.4434"/><rect fill="#FFFFFF" height="93.873" style="stroke:#181818;stroke-width:1.0;" width="10" x="1660.5" y="594.6074"/><rect fill="#FFFFFF" height="31.291" style="stroke:#181818;stroke-width:1.0;" width="10" x="1835" y="625.8984"/><rect fill="#FFFFFF" height="31.291" style="stroke:#181818;stroke-width:1.0;" width="10" x="1953" y="500.7344"/><rect fill="#FFFFFF" height="1106.6035" style="stroke:#181818;stroke-width:1.0;" width="10" x="2040.5" y="156.5332"/><rect fill="#FFFFFF" height="1075.3125" style="stroke:#181818;stroke-width:1.0;" width="10" x="2045.5" y="187.8242"/><rect fill="#FFFFFF" height="1044.0215" style="stroke:#181818;stroke-width:1.0;" width="10" x="2050.5" y="219.1152"/><rect fill="#FFFFFF" height="1012.7305" style="stroke:#181818;stroke-width:1.0;" width="10" x="2055.5" y="250.4063"/><rect fill="#FFFFFF" height="981.4395" style="stroke:#181818;stroke-width:1.0;" width="10" x="2060.5" y="281.6973"/><rect fill="#FFFFFF" height="512.0742" style="stroke:#181818;stroke-width:1.0;" width="10" x="2065.5" y="751.0625"/><polygon fill="#181818" points="2028.5,152.5332,2038.5,156.5332,2028.5,160.5332,2032.5,156.5332" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="303.5" x2="2034.5" y1="156.5332" y2="156.5332"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="310.5" y="151.2705">1</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="156" x="321.5" y="151.2705">subscribe "Review.deleted"</text><polygon fill="#181818" points="2033.5,183.8242,2043.5,187.8242,2033.5,191.8242,2037.5,187.8242" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="428.5" x2="2039.5" y1="187.8242" y2="187.8242"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="435.5" y="182.5615">2</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="156" x="446.5" y="182.5615">subscribe "Review.deleted"</text><polygon fill="#181818" points="2038.5,215.1152,2048.5,219.1152,2038.5,223.1152,2042.5,219.1152" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="553.5" x2="2044.5" y1="219.1152" y2="219.1152"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="560.5" y="213.8525">3</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="156" x="571.5" y="213.8525">subscribe "Review.deleted"</text><polygon fill="#181818" points="2043.5,246.4063,2053.5,250.4063,2043.5,254.4063,2047.5,250.4063" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="678.5" x2="2049.5" y1="250.4063" y2="250.4063"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="685.5" y="245.1436">4</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="156" x="696.5" y="245.1436">subscribe "Review.deleted"</text><polygon fill="#181818" points="2048.5,277.6973,2058.5,281.6973,2048.5,285.6973,2052.5,281.6973" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="803.5" x2="2054.5" y1="281.6973" y2="281.6973"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="810.5" y="276.4346">5</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="156" x="821.5" y="276.4346">subscribe "Review.deleted"</text><polygon fill="#181818" points="200,308.9883,210,312.9883,200,316.9883,204,312.9883" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="31" x2="206" y1="312.9883" y2="312.9883"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="38" y="307.7256">6</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="151" x="49" y="307.7256">DELETE review/{idReview}</text><polygon fill="#181818" points="911.5,340.2793,921.5,344.2793,911.5,348.2793,915.5,344.2793" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="222" x2="917.5" y1="344.2793" y2="344.2793"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="229" y="339.0166">7</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="151" x="240" y="339.0166">DELETE review/{idReview}</text><polygon fill="#181818" points="1151.5,371.5703,1161.5,375.5703,1151.5,379.5703,1155.5,375.5703" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="933.5" x2="1157.5" y1="375.5703" y2="375.5703"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="940.5" y="370.3076">8</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="200" x="951.5" y="370.3076">reviewService.deleteById(idReview)</text><polygon fill="#181818" points="1648.5,402.8613,1658.5,406.8613,1648.5,410.8613,1652.5,406.8613" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="1173.5" x2="1654.5" y1="406.8613" y2="406.8613"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="1180.5" y="401.5986">9</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="102" x="1191.5" y="401.5986">parseJwt(request)</text><polygon fill="#181818" points="1184.5,434.1523,1174.5,438.1523,1184.5,442.1523,1180.5,438.1523" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="1178.5" x2="1664.5" y1="438.1523" y2="438.1523"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="1190.5" y="432.8896">10</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="16" x="1208.5" y="432.8896">jwt</text><polygon fill="#181818" points="1648.5,465.4434,1658.5,469.4434,1648.5,473.4434,1652.5,469.4434" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="1173.5" x2="1654.5" y1="469.4434" y2="469.4434"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="1180.5" y="464.1807">11</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="201" x="1198.5" y="464.1807">makeRequestToAuthentication(jwt)</text><polygon fill="#181818" points="1941,496.7344,1951,500.7344,1941,504.7344,1945,500.7344" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="1670.5" x2="1947" y1="500.7344" y2="500.7344"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="1677.5" y="495.4717">12</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="130" x="1695.5" y="495.4717">GET /auth/search/{jwt}</text><polygon fill="#181818" points="1681.5,528.0254,1671.5,532.0254,1681.5,536.0254,1677.5,532.0254" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="1675.5" x2="1957" y1="532.0254" y2="532.0254"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="1687.5" y="526.7627">13</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="25" x="1705.5" y="526.7627">user</text><polygon fill="#181818" points="1184.5,559.3164,1174.5,563.3164,1184.5,567.3164,1180.5,563.3164" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="1178.5" x2="1664.5" y1="563.3164" y2="563.3164"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="1190.5" y="558.0537">14</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="25" x="1208.5" y="558.0537">user</text><polygon fill="#181818" points="1648.5,590.6074,1658.5,594.6074,1648.5,598.6074,1652.5,594.6074" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="1173.5" x2="1654.5" y1="594.6074" y2="594.6074"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="1180.5" y="589.3447">15</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="164" x="1198.5" y="589.3447">retrieveProductFromApi(sku)</text><polygon fill="#181818" points="1823,621.8984,1833,625.8984,1823,629.8984,1827,625.8984" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="1670.5" x2="1829" y1="625.8984" y2="625.8984"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="1677.5" y="620.6357">16</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="117" x="1695.5" y="620.6357">GET /products/{sku}</text><polygon fill="#181818" points="1681.5,653.1895,1671.5,657.1895,1681.5,661.1895,1677.5,657.1895" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="1675.5" x2="1839" y1="657.1895" y2="657.1895"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="1687.5" y="651.9268">17</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="43" x="1705.5" y="651.9268">product</text><polygon fill="#181818" points="1184.5,684.4805,1174.5,688.4805,1184.5,692.4805,1180.5,688.4805" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="1178.5" x2="1664.5" y1="688.4805" y2="688.4805"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="1190.5" y="683.2178">18</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="43" x="1208.5" y="683.2178">product</text><polygon fill="#181818" points="1414.5,715.7715,1424.5,719.7715,1414.5,723.7715,1418.5,719.7715" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="1173.5" x2="1420.5" y1="719.7715" y2="719.7715"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="1180.5" y="714.5088">19</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="216" x="1198.5" y="714.5088">reviewRepo.deleteIdReview(idReview))</text><polygon fill="#181818" points="2053.5,747.0625,2063.5,751.0625,2053.5,755.0625,2057.5,751.0625" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="1436.5" x2="2059.5" y1="751.0625" y2="751.0625"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="1443.5" y="745.7998">20</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="197" x="1461.5" y="745.7998">publish "Review.deleted, {Review}"</text><polygon fill="#181818" points="319.5,778.3535,309.5,782.3535,319.5,786.3535,315.5,782.3535" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="313.5" x2="2064.5" y1="782.3535" y2="782.3535"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="325.5" y="777.0908">21</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="187" x="343.5" y="777.0908">notify "Review.deleted, {Review}"</text><line style="stroke:#181818;stroke-width:1.0;" x1="308.5" x2="355.5" y1="808.6445" y2="808.6445"/><line style="stroke:#181818;stroke-width:1.0;" x1="355.5" x2="355.5" y1="808.6445" y2="821.6445"/><line style="stroke:#181818;stroke-width:1.0;" x1="314.5" x2="355.5" y1="821.6445" y2="821.6445"/><polygon fill="#181818" points="324.5,817.6445,314.5,821.6445,324.5,825.6445,320.5,821.6445" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="320.5" y="803.3818">22</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="83" x="338.5" y="803.3818">delete(Review)</text><polygon fill="#181818" points="444.5,853.9355,434.5,857.9355,444.5,861.9355,440.5,857.9355" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="438.5" x2="2064.5" y1="857.9355" y2="857.9355"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="450.5" y="852.6729">23</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="187" x="468.5" y="852.6729">notify "Review.deleted, {Review}"</text><line style="stroke:#181818;stroke-width:1.0;" x1="433.5" x2="480.5" y1="884.2266" y2="884.2266"/><line style="stroke:#181818;stroke-width:1.0;" x1="480.5" x2="480.5" y1="884.2266" y2="897.2266"/><line style="stroke:#181818;stroke-width:1.0;" x1="439.5" x2="480.5" y1="897.2266" y2="897.2266"/><polygon fill="#181818" points="449.5,893.2266,439.5,897.2266,449.5,901.2266,445.5,897.2266" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="445.5" y="878.9639">24</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="83" x="463.5" y="878.9639">delete(Review)</text><polygon fill="#181818" points="569.5,929.5176,559.5,933.5176,569.5,937.5176,565.5,933.5176" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="563.5" x2="2064.5" y1="933.5176" y2="933.5176"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="575.5" y="928.2549">25</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="187" x="593.5" y="928.2549">notify "Review.deleted, {Review}"</text><line style="stroke:#181818;stroke-width:1.0;" x1="558.5" x2="605.5" y1="959.8086" y2="959.8086"/><line style="stroke:#181818;stroke-width:1.0;" x1="605.5" x2="605.5" y1="959.8086" y2="972.8086"/><line style="stroke:#181818;stroke-width:1.0;" x1="564.5" x2="605.5" y1="972.8086" y2="972.8086"/><polygon fill="#181818" points="574.5,968.8086,564.5,972.8086,574.5,976.8086,570.5,972.8086" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="570.5" y="954.5459">26</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="83" x="588.5" y="954.5459">delete(Review)</text><polygon fill="#181818" points="694.5,1005.0996,684.5,1009.0996,694.5,1013.0996,690.5,1009.0996" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="688.5" x2="2064.5" y1="1009.0996" y2="1009.0996"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="700.5" y="1003.8369">27</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="187" x="718.5" y="1003.8369">notify "Review.deleted, {Review}"</text><line style="stroke:#181818;stroke-width:1.0;" x1="683.5" x2="730.5" y1="1035.3906" y2="1035.3906"/><line style="stroke:#181818;stroke-width:1.0;" x1="730.5" x2="730.5" y1="1035.3906" y2="1048.3906"/><line style="stroke:#181818;stroke-width:1.0;" x1="689.5" x2="730.5" y1="1048.3906" y2="1048.3906"/><polygon fill="#181818" points="699.5,1044.3906,689.5,1048.3906,699.5,1052.3906,695.5,1048.3906" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="695.5" y="1030.1279">28</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="83" x="713.5" y="1030.1279">delete(Review)</text><polygon fill="#181818" points="819.5,1080.6816,809.5,1084.6816,819.5,1088.6816,815.5,1084.6816" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="813.5" x2="2064.5" y1="1084.6816" y2="1084.6816"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="825.5" y="1079.4189">29</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="187" x="843.5" y="1079.4189">notify "Review.deleted, {Review}"</text><line style="stroke:#181818;stroke-width:1.0;" x1="808.5" x2="855.5" y1="1110.9727" y2="1110.9727"/><line style="stroke:#181818;stroke-width:1.0;" x1="855.5" x2="855.5" y1="1110.9727" y2="1123.9727"/><line style="stroke:#181818;stroke-width:1.0;" x1="814.5" x2="855.5" y1="1123.9727" y2="1123.9727"/><polygon fill="#181818" points="824.5,1119.9727,814.5,1123.9727,824.5,1127.9727,820.5,1123.9727" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="820.5" y="1105.71">30</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="83" x="838.5" y="1105.71">delete(Review)</text><polygon fill="#181818" points="1184.5,1156.2637,1174.5,1160.2637,1184.5,1164.2637,1180.5,1160.2637" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="1178.5" x2="1430.5" y1="1160.2637" y2="1160.2637"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="1190.5" y="1155.001">31</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="14" x="1208.5" y="1155.001">ok</text><polygon fill="#181818" points="944.5,1187.5547,934.5,1191.5547,944.5,1195.5547,940.5,1191.5547" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="938.5" x2="1167.5" y1="1191.5547" y2="1191.5547"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="950.5" y="1186.292">32</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="14" x="968.5" y="1186.292">ok</text><polygon fill="#181818" points="233,1218.8457,223,1222.8457,233,1226.8457,229,1222.8457" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="227" x2="927.5" y1="1222.8457" y2="1222.8457"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="239" y="1217.583">33</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="14" x="257" y="1217.583">ok</text><polygon fill="#181818" points="42,1250.1367,32,1254.1367,42,1258.1367,38,1254.1367" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="36" x2="216" y1="1254.1367" y2="1254.1367"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="48" y="1248.874">34</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="14" x="66" y="1248.874">ok</text><!--MD5=[5aae5352dac587d822f91e62ec50adbd]
@startuml
'https://plantuml.com/sequence-diagram

title Withdraw one of my reviews
autoactivate on
autonumber




actor "Client" as User



reviewC_n -> broker: subscribe "Review.deleted"
reviewQ -> broker: subscribe "Review.deleted"
reviewQ_n -> broker: subscribe "Review.deleted"
voteC -> broker: subscribe "Review.deleted"
voteC_n -> broker: subscribe "Review.deleted"

participant ":ReviewC" as reviewC
participant ":ReviewC_n" as reviewC_n
participant ":ReviewQ" as reviewQ
participant ":ReviewQ_n" as reviewQ_n
participant ":VoteC" as voteC
participant ":VoteC_n" as voteC_n

participant "ReviewController" as Ctrl
participant "reviewService:ReviewService" as service
participant "reviewRepositoryReviewRepository" as repo
participant "requestService:RequestService" as request
participant ":ReviewInstance" as instance
participant ":AuthInstance" as instanceAuth

participant ":MessageBroker" as broker




activate User
User -> reviewC : DELETE review/{idReview}
reviewC -> Ctrl: DELETE review/{idReview}
Ctrl -> service : reviewService.deleteById(idReview)

service -> request : parseJwt(request)
request - -> service: jwt
service -> request: makeRequestToAuthentication(jwt)
request -> instanceAuth: GET /auth/search/{jwt}
instanceAuth - -> request: user
request - -> service: user

service -> request:retrieveProductFromApi(sku)
request -> instance: GET /products/{sku}
instance - -> request: product
request - -> service: product
service -> repo: reviewRepo.deleteIdReview(idReview))
repo -> broker: publish "Review.deleted, {Review}"

reviewC_n <- broker: notify "Review.deleted, {Review}"
reviewC_n -> reviewC_n: delete(Review)
reviewQ <- broker: notify "Review.deleted, {Review}"
reviewQ -> reviewQ: delete(Review)
reviewQ_n <- broker: notify "Review.deleted, {Review}"
reviewQ_n -> reviewQ_n: delete(Review)
voteC <- broker: notify "Review.deleted, {Review}"
voteC -> voteC: delete(Review)
voteC_n <- broker: notify "Review.deleted, {Review}"
voteC_n -> voteC_n: delete(Review)

repo - -> service: ok
service - -> Ctrl: ok
Ctrl - -> reviewC: ok
reviewC - -> User: ok



@enduml

@startuml

title Withdraw one of my reviews
autoactivate on
autonumber




actor "Client" as User



reviewC_n -> broker: subscribe "Review.deleted"
reviewQ -> broker: subscribe "Review.deleted"
reviewQ_n -> broker: subscribe "Review.deleted"
voteC -> broker: subscribe "Review.deleted"
voteC_n -> broker: subscribe "Review.deleted"

participant ":ReviewC" as reviewC
participant ":ReviewC_n" as reviewC_n
participant ":ReviewQ" as reviewQ
participant ":ReviewQ_n" as reviewQ_n
participant ":VoteC" as voteC
participant ":VoteC_n" as voteC_n

participant "ReviewController" as Ctrl
participant "reviewService:ReviewService" as service
participant "reviewRepositoryReviewRepository" as repo
participant "requestService:RequestService" as request
participant ":ReviewInstance" as instance
participant ":AuthInstance" as instanceAuth

participant ":MessageBroker" as broker




activate User
User -> reviewC : DELETE review/{idReview}
reviewC -> Ctrl: DELETE review/{idReview}
Ctrl -> service : reviewService.deleteById(idReview)

service -> request : parseJwt(request)
request - -> service: jwt
service -> request: makeRequestToAuthentication(jwt)
request -> instanceAuth: GET /auth/search/{jwt}
instanceAuth - -> request: user
request - -> service: user

service -> request:retrieveProductFromApi(sku)
request -> instance: GET /products/{sku}
instance - -> request: product
request - -> service: product
service -> repo: reviewRepo.deleteIdReview(idReview))
repo -> broker: publish "Review.deleted, {Review}"

reviewC_n <- broker: notify "Review.deleted, {Review}"
reviewC_n -> reviewC_n: delete(Review)
reviewQ <- broker: notify "Review.deleted, {Review}"
reviewQ -> reviewQ: delete(Review)
reviewQ_n <- broker: notify "Review.deleted, {Review}"
reviewQ_n -> reviewQ_n: delete(Review)
voteC <- broker: notify "Review.deleted, {Review}"
voteC -> voteC: delete(Review)
voteC_n <- broker: notify "Review.deleted, {Review}"
voteC_n -> voteC_n: delete(Review)

repo - -> service: ok
service - -> Ctrl: ok
Ctrl - -> reviewC: ok
reviewC - -> User: ok



@enduml

PlantUML version 1.2022.13(Sat Nov 19 13:22:17 WET 2022)
(GPL source distribution)
Java Runtime: OpenJDK Runtime Environment
JVM: OpenJDK 64-Bit Server VM
Default Encoding: Cp1252
Language: pt
Country: PT
--></g></svg>
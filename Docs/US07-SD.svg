<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentStyleType="text/css" height="1133px" preserveAspectRatio="none" style="width:1870px;height:1133px;background:#FFFFFF;" version="1.1" viewBox="0 0 1870 1133" width="1870px" zoomAndPan="magnify"><defs/><g><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="197" x="834.75" y="30.1074">Withdraw one of my reviews</text><rect fill="#FFFFFF" height="759.9844" style="stroke:#181818;stroke-width:1.0;" width="10" x="21" y="281.6973"/><rect fill="#FFFFFF" height="719.6934" style="stroke:#181818;stroke-width:1.0;" width="10" x="212" y="312.9883"/><rect fill="#FFFFFF" height="259.3281" style="stroke:#181818;stroke-width:1.0;" width="10" x="298.5" y="782.3535"/><rect fill="#FFFFFF" height="228.0371" style="stroke:#181818;stroke-width:1.0;" width="10" x="381" y="813.6445"/><rect fill="#FFFFFF" height="196.7461" style="stroke:#181818;stroke-width:1.0;" width="10" x="464" y="844.9355"/><rect fill="#FFFFFF" height="165.4551" style="stroke:#181818;stroke-width:1.0;" width="10" x="540" y="876.2266"/><rect fill="#FFFFFF" height="134.1641" style="stroke:#181818;stroke-width:1.0;" width="10" x="609" y="907.5176"/><rect fill="#FFFFFF" height="657.1113" style="stroke:#181818;stroke-width:1.0;" width="10" x="713" y="344.2793"/><rect fill="#FFFFFF" height="594.5293" style="stroke:#181818;stroke-width:1.0;" width="10" x="953" y="375.5703"/><rect fill="#FFFFFF" height="219.0371" style="stroke:#181818;stroke-width:1.0;" width="10" x="1216" y="719.7715"/><rect fill="#FFFFFF" height="31.291" style="stroke:#181818;stroke-width:1.0;" width="10" x="1450" y="406.8613"/><rect fill="#FFFFFF" height="93.873" style="stroke:#181818;stroke-width:1.0;" width="10" x="1450" y="469.4434"/><rect fill="#FFFFFF" height="93.873" style="stroke:#181818;stroke-width:1.0;" width="10" x="1450" y="594.6074"/><rect fill="#FFFFFF" height="31.291" style="stroke:#181818;stroke-width:1.0;" width="10" x="1624.5" y="625.8984"/><rect fill="#FFFFFF" height="31.291" style="stroke:#181818;stroke-width:1.0;" width="10" x="1742.5" y="500.7344"/><rect fill="#FFFFFF" height="885.1484" style="stroke:#181818;stroke-width:1.0;" width="10" x="1830" y="156.5332"/><rect fill="#FFFFFF" height="853.8574" style="stroke:#181818;stroke-width:1.0;" width="10" x="1835" y="187.8242"/><rect fill="#FFFFFF" height="822.5664" style="stroke:#181818;stroke-width:1.0;" width="10" x="1840" y="219.1152"/><rect fill="#FFFFFF" height="791.2754" style="stroke:#181818;stroke-width:1.0;" width="10" x="1845" y="250.4063"/><rect fill="#FFFFFF" height="759.9844" style="stroke:#181818;stroke-width:1.0;" width="10" x="1850" y="281.6973"/><rect fill="#FFFFFF" height="290.6191" style="stroke:#181818;stroke-width:1.0;" width="10" x="1855" y="751.0625"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="26" x2="26" y1="123.2422" y2="1050.6816"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="216.5" x2="216.5" y1="123.2422" y2="1050.6816"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="303.5" x2="303.5" y1="123.2422" y2="1050.6816"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="385.5" x2="385.5" y1="123.2422" y2="1050.6816"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="468.5" x2="468.5" y1="123.2422" y2="1050.6816"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="544.5" x2="544.5" y1="123.2422" y2="1050.6816"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="613.5" x2="613.5" y1="123.2422" y2="1050.6816"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="717.5" x2="717.5" y1="123.2422" y2="1050.6816"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="957.5" x2="957.5" y1="123.2422" y2="1050.6816"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="1220.5" x2="1220.5" y1="123.2422" y2="1050.6816"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="1454.5" x2="1454.5" y1="123.2422" y2="1050.6816"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="1629.5" x2="1629.5" y1="123.2422" y2="1050.6816"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="1747.5" x2="1747.5" y1="123.2422" y2="1050.6816"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="1834.5" x2="1834.5" y1="123.2422" y2="1050.6816"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="36" x="5" y="119.7285">Client</text><ellipse cx="26" cy="53.1211" fill="#E2E2F0" rx="8" ry="8" style="stroke:#181818;stroke-width:0.5;"/><path d="M26,61.1211 L26,88.1211 M13,69.1211 L39,69.1211 M26,88.1211 L13,103.1211 M26,88.1211 L39,103.1211 " fill="none" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="36" x="5" y="1064.7891">Client</text><ellipse cx="26" cy="1076.8027" fill="#E2E2F0" rx="8" ry="8" style="stroke:#181818;stroke-width:0.5;"/><path d="M26,1084.8027 L26,1111.8027 M13,1092.8027 L39,1092.8027 M26,1111.8027 L13,1126.8027 M26,1111.8027 L39,1126.8027 " fill="none" style="stroke:#181818;stroke-width:0.5;"/><rect fill="#E2E2F0" height="32.6211" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="73" x="180.5" y="89.6211"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="59" x="187.5" y="111.7285">:ReviewC</text><rect fill="#E2E2F0" height="32.6211" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="73" x="180.5" y="1049.6816"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="59" x="187.5" y="1071.7891">:ReviewC</text><rect fill="#E2E2F0" height="32.6211" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="80" x="263.5" y="89.6211"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="66" x="270.5" y="111.7285">reviewC_n</text><rect fill="#E2E2F0" height="32.6211" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="80" x="263.5" y="1049.6816"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="66" x="270.5" y="1071.7891">reviewC_n</text><rect fill="#E2E2F0" height="32.6211" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="65" x="353.5" y="89.6211"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="51" x="360.5" y="111.7285">reviewQ</text><rect fill="#E2E2F0" height="32.6211" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="65" x="353.5" y="1049.6816"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="51" x="360.5" y="1071.7891">reviewQ</text><rect fill="#E2E2F0" height="32.6211" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="81" x="428.5" y="89.6211"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="67" x="435.5" y="111.7285">reviewQ_n</text><rect fill="#E2E2F0" height="32.6211" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="81" x="428.5" y="1049.6816"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="67" x="435.5" y="1071.7891">reviewQ_n</text><rect fill="#E2E2F0" height="32.6211" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="51" x="519.5" y="89.6211"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="37" x="526.5" y="111.7285">voteC</text><rect fill="#E2E2F0" height="32.6211" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="51" x="519.5" y="1049.6816"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="37" x="526.5" y="1071.7891">voteC</text><rect fill="#E2E2F0" height="32.6211" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="67" x="580.5" y="89.6211"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="53" x="587.5" y="111.7285">voteC_n</text><rect fill="#E2E2F0" height="32.6211" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="67" x="580.5" y="1049.6816"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="53" x="587.5" y="1071.7891">voteC_n</text><rect fill="#E2E2F0" height="32.6211" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="121" x="657.5" y="89.6211"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="107" x="664.5" y="111.7285">ReviewController</text><rect fill="#E2E2F0" height="32.6211" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="121" x="657.5" y="1049.6816"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="107" x="664.5" y="1071.7891">ReviewController</text><rect fill="#E2E2F0" height="32.6211" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="197" x="859.5" y="89.6211"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="183" x="866.5" y="111.7285">reviewService:ReviewService</text><rect fill="#E2E2F0" height="32.6211" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="197" x="859.5" y="1049.6816"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="183" x="866.5" y="1071.7891">reviewService:ReviewService</text><rect fill="#E2E2F0" height="32.6211" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="235" x="1103.5" y="89.6211"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="221" x="1110.5" y="111.7285">reviewRepositoryReviewRepository</text><rect fill="#E2E2F0" height="32.6211" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="235" x="1103.5" y="1049.6816"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="221" x="1110.5" y="1071.7891">reviewRepositoryReviewRepository</text><rect fill="#E2E2F0" height="32.6211" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="213" x="1348.5" y="89.6211"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="199" x="1355.5" y="111.7285">requestService:RequestService</text><rect fill="#E2E2F0" height="32.6211" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="213" x="1348.5" y="1049.6816"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="199" x="1355.5" y="1071.7891">requestService:RequestService</text><rect fill="#E2E2F0" height="32.6211" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="116" x="1571.5" y="89.6211"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="102" x="1578.5" y="111.7285">:ReviewInstance</text><rect fill="#E2E2F0" height="32.6211" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="116" x="1571.5" y="1049.6816"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="102" x="1578.5" y="1071.7891">:ReviewInstance</text><rect fill="#E2E2F0" height="32.6211" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="100" x="1697.5" y="89.6211"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="86" x="1704.5" y="111.7285">:AuthInstance</text><rect fill="#E2E2F0" height="32.6211" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="100" x="1697.5" y="1049.6816"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="86" x="1704.5" y="1071.7891">:AuthInstance</text><rect fill="#E2E2F0" height="32.6211" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="55" x="1807.5" y="89.6211"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="41" x="1814.5" y="111.7285">broker</text><rect fill="#E2E2F0" height="32.6211" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="55" x="1807.5" y="1049.6816"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="41" x="1814.5" y="1071.7891">broker</text><rect fill="#FFFFFF" height="759.9844" style="stroke:#181818;stroke-width:1.0;" width="10" x="21" y="281.6973"/><rect fill="#FFFFFF" height="719.6934" style="stroke:#181818;stroke-width:1.0;" width="10" x="212" y="312.9883"/><rect fill="#FFFFFF" height="259.3281" style="stroke:#181818;stroke-width:1.0;" width="10" x="298.5" y="782.3535"/><rect fill="#FFFFFF" height="228.0371" style="stroke:#181818;stroke-width:1.0;" width="10" x="381" y="813.6445"/><rect fill="#FFFFFF" height="196.7461" style="stroke:#181818;stroke-width:1.0;" width="10" x="464" y="844.9355"/><rect fill="#FFFFFF" height="165.4551" style="stroke:#181818;stroke-width:1.0;" width="10" x="540" y="876.2266"/><rect fill="#FFFFFF" height="134.1641" style="stroke:#181818;stroke-width:1.0;" width="10" x="609" y="907.5176"/><rect fill="#FFFFFF" height="657.1113" style="stroke:#181818;stroke-width:1.0;" width="10" x="713" y="344.2793"/><rect fill="#FFFFFF" height="594.5293" style="stroke:#181818;stroke-width:1.0;" width="10" x="953" y="375.5703"/><rect fill="#FFFFFF" height="219.0371" style="stroke:#181818;stroke-width:1.0;" width="10" x="1216" y="719.7715"/><rect fill="#FFFFFF" height="31.291" style="stroke:#181818;stroke-width:1.0;" width="10" x="1450" y="406.8613"/><rect fill="#FFFFFF" height="93.873" style="stroke:#181818;stroke-width:1.0;" width="10" x="1450" y="469.4434"/><rect fill="#FFFFFF" height="93.873" style="stroke:#181818;stroke-width:1.0;" width="10" x="1450" y="594.6074"/><rect fill="#FFFFFF" height="31.291" style="stroke:#181818;stroke-width:1.0;" width="10" x="1624.5" y="625.8984"/><rect fill="#FFFFFF" height="31.291" style="stroke:#181818;stroke-width:1.0;" width="10" x="1742.5" y="500.7344"/><rect fill="#FFFFFF" height="885.1484" style="stroke:#181818;stroke-width:1.0;" width="10" x="1830" y="156.5332"/><rect fill="#FFFFFF" height="853.8574" style="stroke:#181818;stroke-width:1.0;" width="10" x="1835" y="187.8242"/><rect fill="#FFFFFF" height="822.5664" style="stroke:#181818;stroke-width:1.0;" width="10" x="1840" y="219.1152"/><rect fill="#FFFFFF" height="791.2754" style="stroke:#181818;stroke-width:1.0;" width="10" x="1845" y="250.4063"/><rect fill="#FFFFFF" height="759.9844" style="stroke:#181818;stroke-width:1.0;" width="10" x="1850" y="281.6973"/><rect fill="#FFFFFF" height="290.6191" style="stroke:#181818;stroke-width:1.0;" width="10" x="1855" y="751.0625"/><polygon fill="#181818" points="1818,152.5332,1828,156.5332,1818,160.5332,1822,156.5332" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="303.5" x2="1824" y1="156.5332" y2="156.5332"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="310.5" y="151.2705">1</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="143" x="321.5" y="151.2705">subscribe "Vote.deleted"</text><polygon fill="#181818" points="1823,183.8242,1833,187.8242,1823,191.8242,1827,187.8242" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="386" x2="1829" y1="187.8242" y2="187.8242"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="393" y="182.5615">2</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="143" x="404" y="182.5615">subscribe "Vote.deleted"</text><polygon fill="#181818" points="1828,215.1152,1838,219.1152,1828,223.1152,1832,219.1152" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="469" x2="1834" y1="219.1152" y2="219.1152"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="476" y="213.8525">3</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="143" x="487" y="213.8525">subscribe "Vote.deleted"</text><polygon fill="#181818" points="1833,246.4063,1843,250.4063,1833,254.4063,1837,250.4063" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="545" x2="1839" y1="250.4063" y2="250.4063"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="552" y="245.1436">4</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="143" x="563" y="245.1436">subscribe "Vote.deleted"</text><polygon fill="#181818" points="1838,277.6973,1848,281.6973,1838,285.6973,1842,281.6973" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="614" x2="1844" y1="281.6973" y2="281.6973"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="621" y="276.4346">5</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="143" x="632" y="276.4346">subscribe "Vote.deleted"</text><polygon fill="#181818" points="200,308.9883,210,312.9883,200,316.9883,204,312.9883" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="31" x2="206" y1="312.9883" y2="312.9883"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="38" y="307.7256">6</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="151" x="49" y="307.7256">DELETE review/{idReview}</text><polygon fill="#181818" points="701,340.2793,711,344.2793,701,348.2793,705,344.2793" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="222" x2="707" y1="344.2793" y2="344.2793"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="229" y="339.0166">7</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="151" x="240" y="339.0166">DELETE review/{idReview}</text><polygon fill="#181818" points="941,371.5703,951,375.5703,941,379.5703,945,375.5703" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="723" x2="947" y1="375.5703" y2="375.5703"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="730" y="370.3076">8</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="200" x="741" y="370.3076">reviewService.deleteById(idReview)</text><polygon fill="#181818" points="1438,402.8613,1448,406.8613,1438,410.8613,1442,406.8613" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="963" x2="1444" y1="406.8613" y2="406.8613"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="970" y="401.5986">9</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="102" x="981" y="401.5986">parseJwt(request)</text><polygon fill="#181818" points="974,434.1523,964,438.1523,974,442.1523,970,438.1523" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="968" x2="1454" y1="438.1523" y2="438.1523"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="980" y="432.8896">10</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="16" x="998" y="432.8896">jwt</text><polygon fill="#181818" points="1438,465.4434,1448,469.4434,1438,473.4434,1442,469.4434" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="963" x2="1444" y1="469.4434" y2="469.4434"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="970" y="464.1807">11</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="201" x="988" y="464.1807">makeRequestToAuthentication(jwt)</text><polygon fill="#181818" points="1730.5,496.7344,1740.5,500.7344,1730.5,504.7344,1734.5,500.7344" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="1460" x2="1736.5" y1="500.7344" y2="500.7344"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="1467" y="495.4717">12</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="130" x="1485" y="495.4717">GET /auth/search/{jwt}</text><polygon fill="#181818" points="1471,528.0254,1461,532.0254,1471,536.0254,1467,532.0254" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="1465" x2="1746.5" y1="532.0254" y2="532.0254"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="1477" y="526.7627">13</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="25" x="1495" y="526.7627">user</text><polygon fill="#181818" points="974,559.3164,964,563.3164,974,567.3164,970,563.3164" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="968" x2="1454" y1="563.3164" y2="563.3164"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="980" y="558.0537">14</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="25" x="998" y="558.0537">user</text><polygon fill="#181818" points="1438,590.6074,1448,594.6074,1438,598.6074,1442,594.6074" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="963" x2="1444" y1="594.6074" y2="594.6074"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="970" y="589.3447">15</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="164" x="988" y="589.3447">retrieveProductFromApi(sku)</text><polygon fill="#181818" points="1612.5,621.8984,1622.5,625.8984,1612.5,629.8984,1616.5,625.8984" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="1460" x2="1618.5" y1="625.8984" y2="625.8984"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="1467" y="620.6357">16</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="117" x="1485" y="620.6357">GET /products/{sku}</text><polygon fill="#181818" points="1471,653.1895,1461,657.1895,1471,661.1895,1467,657.1895" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="1465" x2="1628.5" y1="657.1895" y2="657.1895"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="1477" y="651.9268">17</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="43" x="1495" y="651.9268">product</text><polygon fill="#181818" points="974,684.4805,964,688.4805,974,692.4805,970,688.4805" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="968" x2="1454" y1="688.4805" y2="688.4805"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="980" y="683.2178">18</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="43" x="998" y="683.2178">product</text><polygon fill="#181818" points="1204,715.7715,1214,719.7715,1204,723.7715,1208,719.7715" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="963" x2="1210" y1="719.7715" y2="719.7715"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="970" y="714.5088">19</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="216" x="988" y="714.5088">reviewRepo.deleteIdReview(idReview))</text><polygon fill="#181818" points="1843,747.0625,1853,751.0625,1843,755.0625,1847,751.0625" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="1226" x2="1849" y1="751.0625" y2="751.0625"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="1233" y="745.7998">20</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="171" x="1251" y="745.7998">publish "Vote.deleted, {Vote}"</text><polygon fill="#181818" points="319.5,778.3535,309.5,782.3535,319.5,786.3535,315.5,782.3535" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="313.5" x2="1854" y1="782.3535" y2="782.3535"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="325.5" y="777.0908">21</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="118" x="343.5" y="777.0908">notify "Vote.deleted"</text><polygon fill="#181818" points="402,809.6445,392,813.6445,402,817.6445,398,813.6445" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="396" x2="1854" y1="813.6445" y2="813.6445"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="408" y="808.3818">22</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="118" x="426" y="808.3818">notify "Vote.deleted"</text><polygon fill="#181818" points="485,840.9355,475,844.9355,485,848.9355,481,844.9355" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="479" x2="1854" y1="844.9355" y2="844.9355"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="491" y="839.6729">23</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="118" x="509" y="839.6729">notify "Vote.deleted"</text><polygon fill="#181818" points="561,872.2266,551,876.2266,561,880.2266,557,876.2266" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="555" x2="1854" y1="876.2266" y2="876.2266"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="567" y="870.9639">24</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="118" x="585" y="870.9639">notify "Vote.deleted"</text><polygon fill="#181818" points="630,903.5176,620,907.5176,630,911.5176,626,907.5176" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="624" x2="1854" y1="907.5176" y2="907.5176"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="636" y="902.2549">25</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="118" x="654" y="902.2549">notify "Vote.deleted"</text><polygon fill="#181818" points="974,934.8086,964,938.8086,974,942.8086,970,938.8086" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="968" x2="1220" y1="938.8086" y2="938.8086"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="980" y="933.5459">26</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="14" x="998" y="933.5459">ok</text><polygon fill="#181818" points="734,966.0996,724,970.0996,734,974.0996,730,970.0996" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="728" x2="957" y1="970.0996" y2="970.0996"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="740" y="964.8369">27</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="14" x="758" y="964.8369">ok</text><polygon fill="#181818" points="233,997.3906,223,1001.3906,233,1005.3906,229,1001.3906" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="227" x2="717" y1="1001.3906" y2="1001.3906"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="239" y="996.1279">28</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="14" x="257" y="996.1279">ok</text><polygon fill="#181818" points="42,1028.6816,32,1032.6816,42,1036.6816,38,1032.6816" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="36" x2="216" y1="1032.6816" y2="1032.6816"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="48" y="1027.4189">29</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="14" x="66" y="1027.4189">ok</text><!--MD5=[83cd3dca9308940450cf0cd502c51526]
@startuml
'https://plantuml.com/sequence-diagram

title Withdraw one of my reviews
autoactivate on
autonumber




actor "Client" as User



reviewC_n -> broker: subscribe "Vote.deleted"
reviewQ -> broker: subscribe "Vote.deleted"
reviewQ_n -> broker: subscribe "Vote.deleted"
voteC -> broker: subscribe "Vote.deleted"
voteC_n -> broker: subscribe "Vote.deleted"

participant ":ReviewC" as reviewC
participant ":ReviewC_n" as reviewC_n
participant ":ReviewQ" as reviewQ
participant ":ReviewQ_n" as reviewQ_n
participant ":VoteC" as voteC
participant ":VoteC_n" as voteC_n

participant "ReviewController" as Ctrl
participant "reviewService:ReviewService" as service
participant "reviewRepositoryReviewRepository" as repo
participant "requestService:RequestService" as request
participant ":ReviewInstance" as instance
participant ":AuthInstance" as instanceAuth

participant ":MessageBroker" as broker




activate User
User -> reviewC : DELETE review/{idReview}
reviewC -> Ctrl: DELETE review/{idReview}
Ctrl -> service : reviewService.deleteById(idReview)

service -> request : parseJwt(request)
request - -> service: jwt
service -> request: makeRequestToAuthentication(jwt)
request -> instanceAuth: GET /auth/search/{jwt}
instanceAuth - -> request: user
request - -> service: user

service -> request:retrieveProductFromApi(sku)
request -> instance: GET /products/{sku}
instance - -> request: product
request - -> service: product
service -> repo: reviewRepo.deleteIdReview(idReview))
repo -> broker: publish "Vote.deleted, {Vote}"

reviewC_n <- broker: notify "Vote.deleted"
reviewQ <- broker: notify "Vote.deleted"
reviewQ_n <- broker: notify "Vote.deleted"
voteC <- broker: notify "Vote.deleted"
voteC_n <- broker: notify "Vote.deleted"

repo - -> service: ok
service - -> Ctrl: ok
Ctrl - -> reviewC: ok
reviewC - -> User: ok



@enduml

@startuml

title Withdraw one of my reviews
autoactivate on
autonumber




actor "Client" as User



reviewC_n -> broker: subscribe "Vote.deleted"
reviewQ -> broker: subscribe "Vote.deleted"
reviewQ_n -> broker: subscribe "Vote.deleted"
voteC -> broker: subscribe "Vote.deleted"
voteC_n -> broker: subscribe "Vote.deleted"

participant ":ReviewC" as reviewC
participant ":ReviewC_n" as reviewC_n
participant ":ReviewQ" as reviewQ
participant ":ReviewQ_n" as reviewQ_n
participant ":VoteC" as voteC
participant ":VoteC_n" as voteC_n

participant "ReviewController" as Ctrl
participant "reviewService:ReviewService" as service
participant "reviewRepositoryReviewRepository" as repo
participant "requestService:RequestService" as request
participant ":ReviewInstance" as instance
participant ":AuthInstance" as instanceAuth

participant ":MessageBroker" as broker




activate User
User -> reviewC : DELETE review/{idReview}
reviewC -> Ctrl: DELETE review/{idReview}
Ctrl -> service : reviewService.deleteById(idReview)

service -> request : parseJwt(request)
request - -> service: jwt
service -> request: makeRequestToAuthentication(jwt)
request -> instanceAuth: GET /auth/search/{jwt}
instanceAuth - -> request: user
request - -> service: user

service -> request:retrieveProductFromApi(sku)
request -> instance: GET /products/{sku}
instance - -> request: product
request - -> service: product
service -> repo: reviewRepo.deleteIdReview(idReview))
repo -> broker: publish "Vote.deleted, {Vote}"

reviewC_n <- broker: notify "Vote.deleted"
reviewQ <- broker: notify "Vote.deleted"
reviewQ_n <- broker: notify "Vote.deleted"
voteC <- broker: notify "Vote.deleted"
voteC_n <- broker: notify "Vote.deleted"

repo - -> service: ok
service - -> Ctrl: ok
Ctrl - -> reviewC: ok
reviewC - -> User: ok



@enduml

PlantUML version 1.2022.13(Sat Nov 19 13:22:17 WET 2022)
(GPL source distribution)
Java Runtime: OpenJDK Runtime Environment
JVM: OpenJDK 64-Bit Server VM
Default Encoding: Cp1252
Language: pt
Country: PT
--></g></svg>
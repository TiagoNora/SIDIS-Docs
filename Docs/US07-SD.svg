<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentStyleType="text/css" height="1211px" preserveAspectRatio="none" style="width:1885px;height:1211px;background:#FFFFFF;" version="1.1" viewBox="0 0 1885 1211" width="1885px" zoomAndPan="magnify"><defs/><g><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="197" x="842.5" y="30.1074">Withdraw one of my reviews</text><rect fill="#FFFFFF" height="837.9844" style="stroke:#181818;stroke-width:1.0;" width="10" x="21" y="281.6973"/><rect fill="#FFFFFF" height="797.6934" style="stroke:#181818;stroke-width:1.0;" width="10" x="212" y="312.9883"/><rect fill="#FFFFFF" height="449.4922" style="stroke:#181818;stroke-width:1.0;" width="10" x="298.5" y="670.1895"/><rect fill="#FFFFFF" height="410.2012" style="stroke:#181818;stroke-width:1.0;" width="10" x="303.5" y="709.4805"/><rect fill="#FFFFFF" height="373.9102" style="stroke:#181818;stroke-width:1.0;" width="10" x="423.5" y="745.7715"/><rect fill="#FFFFFF" height="334.6191" style="stroke:#181818;stroke-width:1.0;" width="10" x="428.5" y="785.0625"/><rect fill="#FFFFFF" height="298.3281" style="stroke:#181818;stroke-width:1.0;" width="10" x="548.5" y="821.3535"/><rect fill="#FFFFFF" height="259.0371" style="stroke:#181818;stroke-width:1.0;" width="10" x="553.5" y="860.6445"/><rect fill="#FFFFFF" height="222.7461" style="stroke:#181818;stroke-width:1.0;" width="10" x="673.5" y="896.9355"/><rect fill="#FFFFFF" height="183.4551" style="stroke:#181818;stroke-width:1.0;" width="10" x="678.5" y="936.2266"/><rect fill="#FFFFFF" height="147.1641" style="stroke:#181818;stroke-width:1.0;" width="10" x="798.5" y="972.5176"/><rect fill="#FFFFFF" height="107.873" style="stroke:#181818;stroke-width:1.0;" width="10" x="803.5" y="1011.8086"/><rect fill="#FFFFFF" height="735.1113" style="stroke:#181818;stroke-width:1.0;" width="10" x="923.5" y="344.2793"/><rect fill="#FFFFFF" height="37.291" style="stroke:#181818;stroke-width:1.0;" width="10" x="1163.5" y="375.5703"/><rect fill="#FFFFFF" height="31.291" style="stroke:#181818;stroke-width:1.0;" width="10" x="1421.5" y="576.3164"/><rect fill="#FFFFFF" height="31.291" style="stroke:#181818;stroke-width:1.0;" width="10" x="1606" y="451.1523"/><rect fill="#FFFFFF" height="31.291" style="stroke:#181818;stroke-width:1.0;" width="10" x="1740.5" y="513.7344"/><rect fill="#FFFFFF" height="963.1484" style="stroke:#181818;stroke-width:1.0;" width="10" x="1845.5" y="156.5332"/><rect fill="#FFFFFF" height="931.8574" style="stroke:#181818;stroke-width:1.0;" width="10" x="1850.5" y="187.8242"/><rect fill="#FFFFFF" height="900.5664" style="stroke:#181818;stroke-width:1.0;" width="10" x="1855.5" y="219.1152"/><rect fill="#FFFFFF" height="869.2754" style="stroke:#181818;stroke-width:1.0;" width="10" x="1860.5" y="250.4063"/><rect fill="#FFFFFF" height="837.9844" style="stroke:#181818;stroke-width:1.0;" width="10" x="1865.5" y="281.6973"/><rect fill="#FFFFFF" height="480.7832" style="stroke:#181818;stroke-width:1.0;" width="10" x="1870.5" y="638.8984"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="26" x2="26" y1="123.2422" y2="1128.6816"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="216.5" x2="216.5" y1="123.2422" y2="1128.6816"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="303.5" x2="303.5" y1="123.2422" y2="1128.6816"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="428" x2="428" y1="123.2422" y2="1128.6816"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="553" x2="553" y1="123.2422" y2="1128.6816"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="678" x2="678" y1="123.2422" y2="1128.6816"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="803" x2="803" y1="123.2422" y2="1128.6816"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="928" x2="928" y1="123.2422" y2="1128.6816"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="1168" x2="1168" y1="123.2422" y2="1128.6816"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="1426" x2="1426" y1="123.2422" y2="1128.6816"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="1611" x2="1611" y1="123.2422" y2="1128.6816"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="1745" x2="1745" y1="123.2422" y2="1128.6816"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="1850" x2="1850" y1="123.2422" y2="1128.6816"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="36" x="5" y="119.7285">Client</text><ellipse cx="26" cy="53.1211" fill="#E2E2F0" rx="8" ry="8" style="stroke:#181818;stroke-width:0.5;"/><path d="M26,61.1211 L26,88.1211 M13,69.1211 L39,69.1211 M26,88.1211 L13,103.1211 M26,88.1211 L39,103.1211 " fill="none" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="36" x="5" y="1142.7891">Client</text><ellipse cx="26" cy="1154.8027" fill="#E2E2F0" rx="8" ry="8" style="stroke:#181818;stroke-width:0.5;"/><path d="M26,1162.8027 L26,1189.8027 M13,1170.8027 L39,1170.8027 M26,1189.8027 L13,1204.8027 M26,1189.8027 L39,1204.8027 " fill="none" style="stroke:#181818;stroke-width:0.5;"/><rect fill="#E2E2F0" height="32.6211" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="73" x="180.5" y="89.6211"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="59" x="187.5" y="111.7285">:ReviewC</text><rect fill="#E2E2F0" height="32.6211" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="73" x="180.5" y="1127.6816"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="59" x="187.5" y="1149.7891">:ReviewC</text><rect fill="#E2E2F0" height="32.6211" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="80" x="263.5" y="89.6211"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="66" x="270.5" y="111.7285">reviewC_n</text><rect fill="#E2E2F0" height="32.6211" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="80" x="263.5" y="1127.6816"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="66" x="270.5" y="1149.7891">reviewC_n</text><rect fill="#E2E2F0" height="32.6211" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="65" x="396" y="89.6211"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="51" x="403" y="111.7285">reviewQ</text><rect fill="#E2E2F0" height="32.6211" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="65" x="396" y="1127.6816"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="51" x="403" y="1149.7891">reviewQ</text><rect fill="#E2E2F0" height="32.6211" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="81" x="513" y="89.6211"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="67" x="520" y="111.7285">reviewQ_n</text><rect fill="#E2E2F0" height="32.6211" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="81" x="513" y="1127.6816"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="67" x="520" y="1149.7891">reviewQ_n</text><rect fill="#E2E2F0" height="32.6211" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="51" x="653" y="89.6211"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="37" x="660" y="111.7285">voteC</text><rect fill="#E2E2F0" height="32.6211" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="51" x="653" y="1127.6816"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="37" x="660" y="1149.7891">voteC</text><rect fill="#E2E2F0" height="32.6211" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="67" x="770" y="89.6211"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="53" x="777" y="111.7285">voteC_n</text><rect fill="#E2E2F0" height="32.6211" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="67" x="770" y="1127.6816"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="53" x="777" y="1149.7891">voteC_n</text><rect fill="#E2E2F0" height="32.6211" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="121" x="868" y="89.6211"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="107" x="875" y="111.7285">ReviewController</text><rect fill="#E2E2F0" height="32.6211" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="121" x="868" y="1127.6816"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="107" x="875" y="1149.7891">ReviewController</text><rect fill="#E2E2F0" height="32.6211" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="197" x="1070" y="89.6211"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="183" x="1077" y="111.7285">reviewService:ReviewService</text><rect fill="#E2E2F0" height="32.6211" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="197" x="1070" y="1127.6816"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="183" x="1077" y="1149.7891">reviewService:ReviewService</text><rect fill="#E2E2F0" height="32.6211" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="235" x="1309" y="89.6211"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="221" x="1316" y="111.7285">reviewRepositoryReviewRepository</text><rect fill="#E2E2F0" height="32.6211" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="235" x="1309" y="1127.6816"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="221" x="1316" y="1149.7891">reviewRepositoryReviewRepository</text><rect fill="#E2E2F0" height="32.6211" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="114" x="1554" y="89.6211"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="100" x="1561" y="111.7285">:JWTRepository</text><rect fill="#E2E2F0" height="32.6211" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="114" x="1554" y="1127.6816"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="100" x="1561" y="1149.7891">:JWTRepository</text><rect fill="#E2E2F0" height="32.6211" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="135" x="1678" y="89.6211"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="121" x="1685" y="111.7285">:ProductRepository</text><rect fill="#E2E2F0" height="32.6211" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="135" x="1678" y="1127.6816"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="121" x="1685" y="1149.7891">:ProductRepository</text><rect fill="#E2E2F0" height="32.6211" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="55" x="1823" y="89.6211"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="41" x="1830" y="111.7285">broker</text><rect fill="#E2E2F0" height="32.6211" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="55" x="1823" y="1127.6816"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="41" x="1830" y="1149.7891">broker</text><rect fill="#FFFFFF" height="837.9844" style="stroke:#181818;stroke-width:1.0;" width="10" x="21" y="281.6973"/><rect fill="#FFFFFF" height="797.6934" style="stroke:#181818;stroke-width:1.0;" width="10" x="212" y="312.9883"/><rect fill="#FFFFFF" height="449.4922" style="stroke:#181818;stroke-width:1.0;" width="10" x="298.5" y="670.1895"/><rect fill="#FFFFFF" height="410.2012" style="stroke:#181818;stroke-width:1.0;" width="10" x="303.5" y="709.4805"/><rect fill="#FFFFFF" height="373.9102" style="stroke:#181818;stroke-width:1.0;" width="10" x="423.5" y="745.7715"/><rect fill="#FFFFFF" height="334.6191" style="stroke:#181818;stroke-width:1.0;" width="10" x="428.5" y="785.0625"/><rect fill="#FFFFFF" height="298.3281" style="stroke:#181818;stroke-width:1.0;" width="10" x="548.5" y="821.3535"/><rect fill="#FFFFFF" height="259.0371" style="stroke:#181818;stroke-width:1.0;" width="10" x="553.5" y="860.6445"/><rect fill="#FFFFFF" height="222.7461" style="stroke:#181818;stroke-width:1.0;" width="10" x="673.5" y="896.9355"/><rect fill="#FFFFFF" height="183.4551" style="stroke:#181818;stroke-width:1.0;" width="10" x="678.5" y="936.2266"/><rect fill="#FFFFFF" height="147.1641" style="stroke:#181818;stroke-width:1.0;" width="10" x="798.5" y="972.5176"/><rect fill="#FFFFFF" height="107.873" style="stroke:#181818;stroke-width:1.0;" width="10" x="803.5" y="1011.8086"/><rect fill="#FFFFFF" height="735.1113" style="stroke:#181818;stroke-width:1.0;" width="10" x="923.5" y="344.2793"/><rect fill="#FFFFFF" height="37.291" style="stroke:#181818;stroke-width:1.0;" width="10" x="1163.5" y="375.5703"/><rect fill="#FFFFFF" height="31.291" style="stroke:#181818;stroke-width:1.0;" width="10" x="1421.5" y="576.3164"/><rect fill="#FFFFFF" height="31.291" style="stroke:#181818;stroke-width:1.0;" width="10" x="1606" y="451.1523"/><rect fill="#FFFFFF" height="31.291" style="stroke:#181818;stroke-width:1.0;" width="10" x="1740.5" y="513.7344"/><rect fill="#FFFFFF" height="963.1484" style="stroke:#181818;stroke-width:1.0;" width="10" x="1845.5" y="156.5332"/><rect fill="#FFFFFF" height="931.8574" style="stroke:#181818;stroke-width:1.0;" width="10" x="1850.5" y="187.8242"/><rect fill="#FFFFFF" height="900.5664" style="stroke:#181818;stroke-width:1.0;" width="10" x="1855.5" y="219.1152"/><rect fill="#FFFFFF" height="869.2754" style="stroke:#181818;stroke-width:1.0;" width="10" x="1860.5" y="250.4063"/><rect fill="#FFFFFF" height="837.9844" style="stroke:#181818;stroke-width:1.0;" width="10" x="1865.5" y="281.6973"/><rect fill="#FFFFFF" height="480.7832" style="stroke:#181818;stroke-width:1.0;" width="10" x="1870.5" y="638.8984"/><polygon fill="#181818" points="1833.5,152.5332,1843.5,156.5332,1833.5,160.5332,1837.5,156.5332" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="303.5" x2="1839.5" y1="156.5332" y2="156.5332"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="310.5" y="151.2705">1</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="156" x="321.5" y="151.2705">subscribe "Review.deleted"</text><polygon fill="#181818" points="1838.5,183.8242,1848.5,187.8242,1838.5,191.8242,1842.5,187.8242" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="428.5" x2="1844.5" y1="187.8242" y2="187.8242"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="435.5" y="182.5615">2</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="156" x="446.5" y="182.5615">subscribe "Review.deleted"</text><polygon fill="#181818" points="1843.5,215.1152,1853.5,219.1152,1843.5,223.1152,1847.5,219.1152" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="553.5" x2="1849.5" y1="219.1152" y2="219.1152"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="560.5" y="213.8525">3</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="156" x="571.5" y="213.8525">subscribe "Review.deleted"</text><polygon fill="#181818" points="1848.5,246.4063,1858.5,250.4063,1848.5,254.4063,1852.5,250.4063" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="678.5" x2="1854.5" y1="250.4063" y2="250.4063"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="685.5" y="245.1436">4</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="156" x="696.5" y="245.1436">subscribe "Review.deleted"</text><polygon fill="#181818" points="1853.5,277.6973,1863.5,281.6973,1853.5,285.6973,1857.5,281.6973" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="803.5" x2="1859.5" y1="281.6973" y2="281.6973"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="810.5" y="276.4346">5</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="156" x="821.5" y="276.4346">subscribe "Review.deleted"</text><polygon fill="#181818" points="200,308.9883,210,312.9883,200,316.9883,204,312.9883" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="31" x2="206" y1="312.9883" y2="312.9883"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="38" y="307.7256">6</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="151" x="49" y="307.7256">DELETE review/{idReview}</text><polygon fill="#181818" points="911.5,340.2793,921.5,344.2793,911.5,348.2793,915.5,344.2793" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="222" x2="917.5" y1="344.2793" y2="344.2793"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="229" y="339.0166">7</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="151" x="240" y="339.0166">DELETE review/{idReview}</text><polygon fill="#181818" points="1151.5,371.5703,1161.5,375.5703,1151.5,379.5703,1155.5,375.5703" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="933.5" x2="1157.5" y1="375.5703" y2="375.5703"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="940.5" y="370.3076">8</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="200" x="951.5" y="370.3076">reviewService.deleteById(idReview)</text><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="1173.5" x2="1215.5" y1="411.8613" y2="411.8613"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="1215.5" x2="1215.5" y1="411.8613" y2="424.8613"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="1168.5" x2="1215.5" y1="424.8613" y2="424.8613"/><polygon fill="#181818" points="1178.5,420.8613,1168.5,424.8613,1178.5,428.8613,1174.5,424.8613" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="1180.5" y="406.5986">9</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="102" x="1191.5" y="406.5986">parseJwt(request)</text><polygon fill="#181818" points="1594,447.1523,1604,451.1523,1594,455.1523,1598,451.1523" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="1168.5" x2="1600" y1="451.1523" y2="451.1523"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="1175.5" y="445.8896">10</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="86" x="1193.5" y="445.8896">findByJWT(jwt)</text><polygon fill="#181818" points="1179.5,478.4434,1169.5,482.4434,1179.5,486.4434,1175.5,482.4434" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="1173.5" x2="1610" y1="482.4434" y2="482.4434"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="1185.5" y="477.1807">11</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="25" x="1203.5" y="477.1807">user</text><polygon fill="#181818" points="1728.5,509.7344,1738.5,513.7344,1728.5,517.7344,1732.5,513.7344" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="1168.5" x2="1734.5" y1="513.7344" y2="513.7344"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="1175.5" y="508.4717">12</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="88" x="1193.5" y="508.4717">findBySku(sku)</text><polygon fill="#181818" points="1179.5,541.0254,1169.5,545.0254,1179.5,549.0254,1175.5,545.0254" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="1173.5" x2="1744.5" y1="545.0254" y2="545.0254"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="1185.5" y="539.7627">13</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="43" x="1203.5" y="539.7627">product</text><polygon fill="#181818" points="1409.5,572.3164,1419.5,576.3164,1409.5,580.3164,1413.5,576.3164" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="1168.5" x2="1415.5" y1="576.3164" y2="576.3164"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="1175.5" y="571.0537">14</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="216" x="1193.5" y="571.0537">reviewRepo.deleteIdReview(idReview))</text><polygon fill="#181818" points="1179.5,603.6074,1169.5,607.6074,1179.5,611.6074,1175.5,607.6074" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="1173.5" x2="1425.5" y1="607.6074" y2="607.6074"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="1185.5" y="602.3447">15</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="14" x="1203.5" y="602.3447">ok</text><polygon fill="#181818" points="1858.5,634.8984,1868.5,638.8984,1858.5,642.8984,1862.5,638.8984" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="1426.5" x2="1864.5" y1="638.8984" y2="638.8984"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="1433.5" y="633.6357">16</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="197" x="1451.5" y="633.6357">publish "Review.deleted, {Review}"</text><polygon fill="#181818" points="319.5,666.1895,309.5,670.1895,319.5,674.1895,315.5,670.1895" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="313.5" x2="1869.5" y1="670.1895" y2="670.1895"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="325.5" y="664.9268">17</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="187" x="343.5" y="664.9268">notify "Review.deleted, {Review}"</text><line style="stroke:#181818;stroke-width:1.0;" x1="308.5" x2="355.5" y1="696.4805" y2="696.4805"/><line style="stroke:#181818;stroke-width:1.0;" x1="355.5" x2="355.5" y1="696.4805" y2="709.4805"/><line style="stroke:#181818;stroke-width:1.0;" x1="314.5" x2="355.5" y1="709.4805" y2="709.4805"/><polygon fill="#181818" points="324.5,705.4805,314.5,709.4805,324.5,713.4805,320.5,709.4805" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="320.5" y="691.2178">18</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="83" x="338.5" y="691.2178">delete(Review)</text><polygon fill="#181818" points="444.5,741.7715,434.5,745.7715,444.5,749.7715,440.5,745.7715" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="438.5" x2="1869.5" y1="745.7715" y2="745.7715"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="450.5" y="740.5088">19</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="187" x="468.5" y="740.5088">notify "Review.deleted, {Review}"</text><line style="stroke:#181818;stroke-width:1.0;" x1="433.5" x2="480.5" y1="772.0625" y2="772.0625"/><line style="stroke:#181818;stroke-width:1.0;" x1="480.5" x2="480.5" y1="772.0625" y2="785.0625"/><line style="stroke:#181818;stroke-width:1.0;" x1="439.5" x2="480.5" y1="785.0625" y2="785.0625"/><polygon fill="#181818" points="449.5,781.0625,439.5,785.0625,449.5,789.0625,445.5,785.0625" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="445.5" y="766.7998">20</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="83" x="463.5" y="766.7998">delete(Review)</text><polygon fill="#181818" points="569.5,817.3535,559.5,821.3535,569.5,825.3535,565.5,821.3535" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="563.5" x2="1869.5" y1="821.3535" y2="821.3535"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="575.5" y="816.0908">21</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="187" x="593.5" y="816.0908">notify "Review.deleted, {Review}"</text><line style="stroke:#181818;stroke-width:1.0;" x1="558.5" x2="605.5" y1="847.6445" y2="847.6445"/><line style="stroke:#181818;stroke-width:1.0;" x1="605.5" x2="605.5" y1="847.6445" y2="860.6445"/><line style="stroke:#181818;stroke-width:1.0;" x1="564.5" x2="605.5" y1="860.6445" y2="860.6445"/><polygon fill="#181818" points="574.5,856.6445,564.5,860.6445,574.5,864.6445,570.5,860.6445" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="570.5" y="842.3818">22</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="83" x="588.5" y="842.3818">delete(Review)</text><polygon fill="#181818" points="694.5,892.9355,684.5,896.9355,694.5,900.9355,690.5,896.9355" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="688.5" x2="1869.5" y1="896.9355" y2="896.9355"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="700.5" y="891.6729">23</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="187" x="718.5" y="891.6729">notify "Review.deleted, {Review}"</text><line style="stroke:#181818;stroke-width:1.0;" x1="683.5" x2="730.5" y1="923.2266" y2="923.2266"/><line style="stroke:#181818;stroke-width:1.0;" x1="730.5" x2="730.5" y1="923.2266" y2="936.2266"/><line style="stroke:#181818;stroke-width:1.0;" x1="689.5" x2="730.5" y1="936.2266" y2="936.2266"/><polygon fill="#181818" points="699.5,932.2266,689.5,936.2266,699.5,940.2266,695.5,936.2266" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="695.5" y="917.9639">24</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="83" x="713.5" y="917.9639">delete(Review)</text><polygon fill="#181818" points="819.5,968.5176,809.5,972.5176,819.5,976.5176,815.5,972.5176" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="813.5" x2="1869.5" y1="972.5176" y2="972.5176"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="825.5" y="967.2549">25</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="187" x="843.5" y="967.2549">notify "Review.deleted, {Review}"</text><line style="stroke:#181818;stroke-width:1.0;" x1="808.5" x2="855.5" y1="998.8086" y2="998.8086"/><line style="stroke:#181818;stroke-width:1.0;" x1="855.5" x2="855.5" y1="998.8086" y2="1011.8086"/><line style="stroke:#181818;stroke-width:1.0;" x1="814.5" x2="855.5" y1="1011.8086" y2="1011.8086"/><polygon fill="#181818" points="824.5,1007.8086,814.5,1011.8086,824.5,1015.8086,820.5,1011.8086" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="820.5" y="993.5459">26</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="83" x="838.5" y="993.5459">delete(Review)</text><polygon fill="#181818" points="944.5,1044.0996,934.5,1048.0996,944.5,1052.0996,940.5,1048.0996" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="938.5" x2="1167.5" y1="1048.0996" y2="1048.0996"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="950.5" y="1042.8369">27</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="14" x="968.5" y="1042.8369">ok</text><polygon fill="#181818" points="233,1075.3906,223,1079.3906,233,1083.3906,229,1079.3906" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="227" x2="927.5" y1="1079.3906" y2="1079.3906"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="239" y="1074.1279">28</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="14" x="257" y="1074.1279">ok</text><polygon fill="#181818" points="42,1106.6816,32,1110.6816,42,1114.6816,38,1110.6816" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="36" x2="216" y1="1110.6816" y2="1110.6816"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="48" y="1105.4189">29</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="14" x="66" y="1105.4189">ok</text><!--MD5=[99f1ce844ac1d1dc17b10e35b7d8f82b]
@startuml
'https://plantuml.com/sequence-diagram

title Withdraw one of my reviews
autoactivate on
autonumber




actor "Client" as User



reviewC_n -> broker: subscribe "Review.deleted"
reviewQ -> broker: subscribe "Review.deleted"
reviewQ_n -> broker: subscribe "Review.deleted"
voteC -> broker: subscribe "Review.deleted"
voteC_n -> broker: subscribe "Review.deleted"

participant ":ReviewC" as reviewC
participant ":ReviewC_n" as reviewC_n
participant ":ReviewQ" as reviewQ
participant ":ReviewQ_n" as reviewQ_n
participant ":VoteC" as voteC
participant ":VoteC_n" as voteC_n

participant "ReviewController" as Ctrl
participant "reviewService:ReviewService" as service
participant "reviewRepositoryReviewRepository" as repo
participant ":JWTRepository" as jwtRepository
participant ":ProductRepository" as productRepository

participant ":MessageBroker" as broker




activate User
User -> reviewC : DELETE review/{idReview}
reviewC -> Ctrl: DELETE review/{idReview}
Ctrl -> service : reviewService.deleteById(idReview)

service - -> service : parseJwt(request)
service -> jwtRepository: findByJWT(jwt)
jwtRepository - -> service: user

service -> productRepository :findBySku(sku)
productRepository - -> service: product
service -> repo: reviewRepo.deleteIdReview(idReview))
repo - -> service: ok
repo -> broker: publish "Review.deleted, {Review}"

reviewC_n <- broker: notify "Review.deleted, {Review}"
reviewC_n -> reviewC_n: delete(Review)
reviewQ <- broker: notify "Review.deleted, {Review}"
reviewQ -> reviewQ: delete(Review)
reviewQ_n <- broker: notify "Review.deleted, {Review}"
reviewQ_n -> reviewQ_n: delete(Review)
voteC <- broker: notify "Review.deleted, {Review}"
voteC -> voteC: delete(Review)
voteC_n <- broker: notify "Review.deleted, {Review}"
voteC_n -> voteC_n: delete(Review)


service - -> Ctrl: ok
Ctrl - -> reviewC: ok
reviewC - -> User: ok



@enduml

@startuml

title Withdraw one of my reviews
autoactivate on
autonumber




actor "Client" as User



reviewC_n -> broker: subscribe "Review.deleted"
reviewQ -> broker: subscribe "Review.deleted"
reviewQ_n -> broker: subscribe "Review.deleted"
voteC -> broker: subscribe "Review.deleted"
voteC_n -> broker: subscribe "Review.deleted"

participant ":ReviewC" as reviewC
participant ":ReviewC_n" as reviewC_n
participant ":ReviewQ" as reviewQ
participant ":ReviewQ_n" as reviewQ_n
participant ":VoteC" as voteC
participant ":VoteC_n" as voteC_n

participant "ReviewController" as Ctrl
participant "reviewService:ReviewService" as service
participant "reviewRepositoryReviewRepository" as repo
participant ":JWTRepository" as jwtRepository
participant ":ProductRepository" as productRepository

participant ":MessageBroker" as broker




activate User
User -> reviewC : DELETE review/{idReview}
reviewC -> Ctrl: DELETE review/{idReview}
Ctrl -> service : reviewService.deleteById(idReview)

service - -> service : parseJwt(request)
service -> jwtRepository: findByJWT(jwt)
jwtRepository - -> service: user

service -> productRepository :findBySku(sku)
productRepository - -> service: product
service -> repo: reviewRepo.deleteIdReview(idReview))
repo - -> service: ok
repo -> broker: publish "Review.deleted, {Review}"

reviewC_n <- broker: notify "Review.deleted, {Review}"
reviewC_n -> reviewC_n: delete(Review)
reviewQ <- broker: notify "Review.deleted, {Review}"
reviewQ -> reviewQ: delete(Review)
reviewQ_n <- broker: notify "Review.deleted, {Review}"
reviewQ_n -> reviewQ_n: delete(Review)
voteC <- broker: notify "Review.deleted, {Review}"
voteC -> voteC: delete(Review)
voteC_n <- broker: notify "Review.deleted, {Review}"
voteC_n -> voteC_n: delete(Review)


service - -> Ctrl: ok
Ctrl - -> reviewC: ok
reviewC - -> User: ok



@enduml

PlantUML version 1.2022.13(Sat Nov 19 13:22:17 WET 2022)
(GPL source distribution)
Java Runtime: OpenJDK Runtime Environment
JVM: OpenJDK 64-Bit Server VM
Default Encoding: Cp1252
Language: pt
Country: PT
--></g></svg>
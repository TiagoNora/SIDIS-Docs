<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentStyleType="text/css" height="529px" preserveAspectRatio="none" style="width:1225px;height:529px;background:#FFFFFF;" version="1.1" viewBox="0 0 1225 529" width="1225px" zoomAndPan="magnify"><defs/><g><rect fill="none" height="25.6406" id="_title" style="stroke:none;stroke-width:1.0;" width="432" x="398" y="10"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="422" x="403" y="27.6738">Search the catalog of products by product name or bar code</text><rect fill="#FFFFFF" height="313.3516" style="stroke:#181818;stroke-width:1.0;" width="10" x="21" y="127.2813"/><rect fill="#FFFFFF" height="283.8281" style="stroke:#181818;stroke-width:1.0;" width="10" x="269" y="147.8047"/><rect fill="#FFFFFF" height="226.7813" style="stroke:#181818;stroke-width:1.0;" width="10" x="582" y="176.3281"/><rect fill="#FFFFFF" height="127.2109" style="stroke:#181818;stroke-width:1.0;" width="10" x="883" y="204.8516"/><rect fill="none" height="127.2109" style="stroke:#000000;stroke-width:1.5;" width="453" x="766" y="219.8516"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="26" x2="26" y1="117.2813" y2="449.6328"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="274" x2="274" y1="117.2813" y2="449.6328"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="587" x2="587" y1="117.2813" y2="449.6328"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="888" x2="888" y1="117.2813" y2="449.6328"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="1154" x2="1154" y1="266.6953" y2="449.6328"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="36" x="5" y="114.3145">Client</text><ellipse cx="26" cy="50.1406" fill="#E2E2F0" rx="8" ry="8" style="stroke:#181818;stroke-width:0.5;"/><path d="M26,58.1406 L26,85.1406 M13,66.1406 L39,66.1406 M26,85.1406 L13,100.1406 M26,85.1406 L39,100.1406 " fill="none" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="36" x="5" y="461.3066">Client</text><ellipse cx="26" cy="472.7734" fill="#E2E2F0" rx="8" ry="8" style="stroke:#181818;stroke-width:0.5;"/><path d="M26,480.7734 L26,507.7734 M13,488.7734 L39,488.7734 M26,507.7734 L13,522.7734 M26,507.7734 L39,522.7734 " fill="none" style="stroke:#181818;stroke-width:0.5;"/><rect fill="#E2E2F0" height="29.6406" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="132" x="208" y="86.6406"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="118" x="215" y="106.3145">ProductsController</text><rect fill="#E2E2F0" height="29.6406" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="132" x="208" y="448.6328"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="118" x="215" y="468.3066">ProductsController</text><rect fill="#E2E2F0" height="29.6406" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="216" x="479" y="86.6406"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="202" x="486" y="106.3145">productService:ProductsService</text><rect fill="#E2E2F0" height="29.6406" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="216" x="479" y="448.6328"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="202" x="486" y="468.3066">productService:ProductsService</text><rect fill="#E2E2F0" height="29.6406" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="224" x="776" y="86.6406"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="210" x="783" y="106.3145">productRepo:ProductsRepository</text><rect fill="#E2E2F0" height="29.6406" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="224" x="776" y="448.6328"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="210" x="783" y="468.3066">productRepo:ProductsRepository</text><rect fill="#E2E2F0" height="29.6406" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="110" x="1099" y="448.6328"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="96" x="1106" y="468.3066">:ProductDetails</text><rect fill="#FFFFFF" height="313.3516" style="stroke:#181818;stroke-width:1.0;" width="10" x="21" y="127.2813"/><rect fill="#FFFFFF" height="283.8281" style="stroke:#181818;stroke-width:1.0;" width="10" x="269" y="147.8047"/><rect fill="#FFFFFF" height="226.7813" style="stroke:#181818;stroke-width:1.0;" width="10" x="582" y="176.3281"/><rect fill="#FFFFFF" height="127.2109" style="stroke:#181818;stroke-width:1.0;" width="10" x="883" y="204.8516"/><polygon fill="#181818" points="257,143.8047,267,147.8047,257,151.8047,261,147.8047" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="31" x2="263" y1="147.8047" y2="147.8047"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="38" y="143.0498">1</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="208" x="49" y="143.0498">GET /products/search/{skuOrName}</text><polygon fill="#181818" points="570,172.3281,580,176.3281,570,180.3281,574,176.3281" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="279" x2="576" y1="176.3281" y2="176.3281"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="286" y="171.5732">2</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="273" x="297" y="171.5732">productService.findByNameOrSuk(skuOrName)</text><polygon fill="#181818" points="871,200.8516,881,204.8516,871,208.8516,875,204.8516" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="592" x2="877" y1="204.8516" y2="204.8516"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="599" y="200.0967">3</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="261" x="610" y="200.0967">productRepo.findByNameOrSuk(skuOrName)</text><path d="M766,219.8516 L839,219.8516 L839,226.375 L829,236.375 L766,236.375 L766,219.8516 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.5;"/><rect fill="none" height="127.2109" style="stroke:#000000;stroke-width:1.5;" width="453" x="766" y="219.8516"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="28" x="781" y="232.6201">loop</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="144" x="854" y="231.8096">[for each 'product' in 'list']</text><polygon fill="#181818" points="1087,252.8984,1097,256.8984,1087,260.8984,1091,256.8984" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="893" x2="1093" y1="256.8984" y2="256.8984"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="900" y="252.1436">4</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="74" x="911" y="252.1436">new(product)</text><rect fill="#E2E2F0" height="29.6406" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="110" x="1099" y="236.375"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="96" x="1106" y="256.0488">:ProductDetails</text><polygon fill="#181818" points="904,293.5391,894,297.5391,904,301.5391,900,297.5391" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="898" x2="1153" y1="297.5391" y2="297.5391"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="910" y="292.7842">5</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="83" x="921" y="292.7842">productDetails</text><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="893" x2="935" y1="331.0625" y2="331.0625"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="935" x2="935" y1="331.0625" y2="344.0625"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="888" x2="935" y1="344.0625" y2="344.0625"/><polygon fill="#181818" points="898,340.0625,888,344.0625,898,348.0625,894,344.0625" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="900" y="326.3076">6</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="231" x="911" y="326.3076">listOfProductDetails.add(productDetails)</text><polygon fill="#181818" points="603,370.5859,593,374.5859,603,378.5859,599,374.5859" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="597" x2="887" y1="374.5859" y2="374.5859"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="609" y="369.8311">7</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="115" x="620" y="369.8311">listOfProductDetails</text><polygon fill="#181818" points="290,399.1094,280,403.1094,290,407.1094,286,403.1094" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="284" x2="586" y1="403.1094" y2="403.1094"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="296" y="398.3545">8</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="115" x="307" y="398.3545">listOfProductDetails</text><polygon fill="#181818" points="42,427.6328,32,431.6328,42,435.6328,38,431.6328" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="36" x2="273" y1="431.6328" y2="431.6328"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="48" y="426.8779">9</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="115" x="59" y="426.8779">listOfProductDetails</text><!--MD5=[681f556a418418589f7178e44451cf93]
@startuml
'https://plantuml.com/sequence-diagram

title Search the catalog of products by product name or bar code
autoactivate on
autonumber

actor "Client" as client
participant "ProductsController" as controller
participant "productService:ProductsService" as service
participant "productRepo:ProductsRepository" as repository
participant ":ProductDetails" as details

activate client

client -> controller: GET /products/search/{skuOrName}
controller -> service : productService.findByNameOrSuk(skuOrName)
service -> repository: productRepo.findByNameOrSuk(skuOrName)

loop for each 'product' in 'list'
    repository -> details**: new(product)
    details - -> repository: productDetails
    repository - -> repository: listOfProductDetails.add(productDetails)
end loop
repository - -> service: listOfProductDetails
service - -> controller: listOfProductDetails
controller - -> client: listOfProductDetails


@enduml

@startuml

title Search the catalog of products by product name or bar code
autoactivate on
autonumber

actor "Client" as client
participant "ProductsController" as controller
participant "productService:ProductsService" as service
participant "productRepo:ProductsRepository" as repository
participant ":ProductDetails" as details

activate client

client -> controller: GET /products/search/{skuOrName}
controller -> service : productService.findByNameOrSuk(skuOrName)
service -> repository: productRepo.findByNameOrSuk(skuOrName)

loop for each 'product' in 'list'
    repository -> details**: new(product)
    details - -> repository: productDetails
    repository - -> repository: listOfProductDetails.add(productDetails)
end loop
repository - -> service: listOfProductDetails
service - -> controller: listOfProductDetails
controller - -> client: listOfProductDetails


@enduml

PlantUML version 1.2022.12(Sun Oct 23 19:12:26 WEST 2022)
(GPL source distribution)
Java Runtime: OpenJDK Runtime Environment
JVM: OpenJDK 64-Bit Server VM
Default Encoding: Cp1252
Language: pt
Country: PT
--></g></svg>
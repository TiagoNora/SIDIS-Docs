<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentStyleType="text/css" height="1148px" preserveAspectRatio="none" style="width:1901px;height:1148px;background:#FFFFFF;" version="1.1" viewBox="0 0 1901 1148" width="1901px" zoomAndPan="magnify"><defs/><g><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="106" x="896.5" y="30.1074">Create Product</text><rect fill="#FFFFFF" height="774.7324" style="stroke:#181818;stroke-width:1.0;" width="10" x="17.5" y="281.6973"/><rect fill="#FFFFFF" height="9" style="stroke:#181818;stroke-width:1.0;" width="10" x="22.5" y="1047.4297"/><rect fill="#FFFFFF" height="743.4414" style="stroke:#181818;stroke-width:1.0;" width="10" x="132.5" y="312.9883"/><rect fill="#FFFFFF" height="37.291" style="stroke:#181818;stroke-width:1.0;" width="10" x="229.5" y="682.5195"/><rect fill="#FFFFFF" height="37.291" style="stroke:#181818;stroke-width:1.0;" width="10" x="350.5" y="758.1016"/><rect fill="#FFFFFF" height="37.291" style="stroke:#181818;stroke-width:1.0;" width="10" x="471.5" y="909.2656"/><rect fill="#FFFFFF" height="37.291" style="stroke:#181818;stroke-width:1.0;" width="10" x="592.5" y="833.6836"/><rect fill="#FFFFFF" height="671.8594" style="stroke:#181818;stroke-width:1.0;" width="10" x="713.5" y="344.2793"/><rect fill="#FFFFFF" height="680.8594" style="stroke:#181818;stroke-width:1.0;" width="10" x="959.5" y="375.5703"/><rect fill="#FFFFFF" height="569.9863" style="stroke:#181818;stroke-width:1.0;" width="10" x="964.5" y="414.8613"/><rect fill="#FFFFFF" height="31.291" style="stroke:#181818;stroke-width:1.0;" width="10" x="1352" y="451.1523"/><rect fill="#FFFFFF" height="31.291" style="stroke:#181818;stroke-width:1.0;" width="10" x="1654" y="588.6465"/><rect fill="#FFFFFF" height="899.8965" style="stroke:#181818;stroke-width:1.0;" width="10" x="1831.5" y="156.5332"/><rect fill="#FFFFFF" height="868.6055" style="stroke:#181818;stroke-width:1.0;" width="10" x="1836.5" y="187.8242"/><rect fill="#FFFFFF" height="837.3145" style="stroke:#181818;stroke-width:1.0;" width="10" x="1841.5" y="219.1152"/><rect fill="#FFFFFF" height="806.0234" style="stroke:#181818;stroke-width:1.0;" width="10" x="1846.5" y="250.4063"/><rect fill="#FFFFFF" height="774.7324" style="stroke:#181818;stroke-width:1.0;" width="10" x="1851.5" y="281.6973"/><rect fill="#FFFFFF" height="405.2012" style="stroke:#181818;stroke-width:1.0;" width="10" x="1856.5" y="651.2285"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="22" x2="22" y1="123.2422" y2="1065.4297"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="137" x2="137" y1="123.2422" y2="1065.4297"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="234" x2="234" y1="123.2422" y2="1065.4297"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="355.5" x2="355.5" y1="123.2422" y2="1065.4297"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="476" x2="476" y1="123.2422" y2="1065.4297"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="597.5" x2="597.5" y1="123.2422" y2="1065.4297"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="718" x2="718" y1="123.2422" y2="1065.4297"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="964" x2="964" y1="123.2422" y2="1065.4297"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="1181" x2="1181" y1="123.2422" y2="1065.4297"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="1357" x2="1357" y1="123.2422" y2="1065.4297"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="1482" x2="1482" y1="522.2539" y2="1065.4297"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="1659" x2="1659" y1="123.2422" y2="1065.4297"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="1836" x2="1836" y1="123.2422" y2="1065.4297"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="29" x="5" y="119.7285">User</text><ellipse cx="22.5" cy="53.1211" fill="#E2E2F0" rx="8" ry="8" style="stroke:#181818;stroke-width:0.5;"/><path d="M22.5,61.1211 L22.5,88.1211 M9.5,69.1211 L35.5,69.1211 M22.5,88.1211 L9.5,103.1211 M22.5,88.1211 L35.5,103.1211 " fill="none" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="29" x="5" y="1079.5371">User</text><ellipse cx="22.5" cy="1091.5508" fill="#E2E2F0" rx="8" ry="8" style="stroke:#181818;stroke-width:0.5;"/><path d="M22.5,1099.5508 L22.5,1126.5508 M9.5,1107.5508 L35.5,1107.5508 M22.5,1126.5508 L9.5,1141.5508 M22.5,1126.5508 L35.5,1141.5508 " fill="none" style="stroke:#181818;stroke-width:0.5;"/><rect fill="#E2E2F0" height="32.6211" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="85" x="95" y="89.6211"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="71" x="102" y="111.7285">:ProductC1</text><rect fill="#E2E2F0" height="32.6211" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="85" x="95" y="1064.4297"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="71" x="102" y="1086.5371">:ProductC1</text><rect fill="#E2E2F0" height="32.6211" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="89" x="190" y="89.6211"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="75" x="197" y="111.7285">:ReviewC_n</text><rect fill="#E2E2F0" height="32.6211" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="89" x="190" y="1064.4297"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="75" x="197" y="1086.5371">:ReviewC_n</text><rect fill="#E2E2F0" height="32.6211" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="90" x="310.5" y="89.6211"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="76" x="317.5" y="111.7285">:ReviewQ_n</text><rect fill="#E2E2F0" height="32.6211" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="90" x="310.5" y="1064.4297"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="76" x="317.5" y="1086.5371">:ReviewQ_n</text><rect fill="#E2E2F0" height="32.6211" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="93" x="430" y="89.6211"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="79" x="437" y="111.7285">:ProductC_n</text><rect fill="#E2E2F0" height="32.6211" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="93" x="430" y="1064.4297"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="79" x="437" y="1086.5371">:ProductC_n</text><rect fill="#E2E2F0" height="32.6211" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="94" x="550.5" y="89.6211"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="80" x="557.5" y="111.7285">:ProductQ_n</text><rect fill="#E2E2F0" height="32.6211" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="94" x="550.5" y="1064.4297"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="80" x="557.5" y="1086.5371">:ProductQ_n</text><rect fill="#E2E2F0" height="32.6211" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="121" x="658" y="89.6211"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="107" x="665" y="111.7285">ReviewController</text><rect fill="#E2E2F0" height="32.6211" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="121" x="658" y="1064.4297"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="107" x="665" y="1086.5371">ReviewController</text><rect fill="#E2E2F0" height="32.6211" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="197" x="866" y="89.6211"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="183" x="873" y="111.7285">reviewService:ReviewService</text><rect fill="#E2E2F0" height="32.6211" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="197" x="866" y="1064.4297"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="183" x="873" y="1086.5371">reviewService:ReviewService</text><rect fill="#E2E2F0" height="32.6211" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="217" x="1073" y="89.6211"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="203" x="1080" y="111.7285">productRepo:ProductRepository</text><rect fill="#E2E2F0" height="32.6211" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="217" x="1073" y="1064.4297"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="203" x="1080" y="1086.5371">productRepo:ProductRepository</text><rect fill="#E2E2F0" height="32.6211" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="114" x="1300" y="89.6211"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="100" x="1307" y="111.7285">:JWTRepository</text><rect fill="#E2E2F0" height="32.6211" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="114" x="1300" y="1064.4297"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="100" x="1307" y="1086.5371">:JWTRepository</text><rect fill="#E2E2F0" height="32.6211" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="116" x="1424" y="1064.4297"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="102" x="1431" y="1086.5371">Product:Product</text><rect fill="#E2E2F0" height="32.6211" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="218" x="1550" y="89.6211"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="204" x="1557" y="111.7285">ProductRepo:ProductRepository</text><rect fill="#E2E2F0" height="32.6211" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="218" x="1550" y="1064.4297"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="204" x="1557" y="1086.5371">ProductRepo:ProductRepository</text><rect fill="#E2E2F0" height="32.6211" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="117" x="1778" y="89.6211"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="103" x="1785" y="111.7285">:MessageBroker</text><rect fill="#E2E2F0" height="32.6211" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="117" x="1778" y="1064.4297"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="103" x="1785" y="1086.5371">:MessageBroker</text><rect fill="#FFFFFF" height="774.7324" style="stroke:#181818;stroke-width:1.0;" width="10" x="17.5" y="281.6973"/><rect fill="#FFFFFF" height="9" style="stroke:#181818;stroke-width:1.0;" width="10" x="22.5" y="1047.4297"/><rect fill="#FFFFFF" height="743.4414" style="stroke:#181818;stroke-width:1.0;" width="10" x="132.5" y="312.9883"/><rect fill="#FFFFFF" height="37.291" style="stroke:#181818;stroke-width:1.0;" width="10" x="229.5" y="682.5195"/><rect fill="#FFFFFF" height="37.291" style="stroke:#181818;stroke-width:1.0;" width="10" x="350.5" y="758.1016"/><rect fill="#FFFFFF" height="37.291" style="stroke:#181818;stroke-width:1.0;" width="10" x="471.5" y="909.2656"/><rect fill="#FFFFFF" height="37.291" style="stroke:#181818;stroke-width:1.0;" width="10" x="592.5" y="833.6836"/><rect fill="#FFFFFF" height="671.8594" style="stroke:#181818;stroke-width:1.0;" width="10" x="713.5" y="344.2793"/><rect fill="#FFFFFF" height="680.8594" style="stroke:#181818;stroke-width:1.0;" width="10" x="959.5" y="375.5703"/><rect fill="#FFFFFF" height="569.9863" style="stroke:#181818;stroke-width:1.0;" width="10" x="964.5" y="414.8613"/><rect fill="#FFFFFF" height="31.291" style="stroke:#181818;stroke-width:1.0;" width="10" x="1352" y="451.1523"/><rect fill="#FFFFFF" height="31.291" style="stroke:#181818;stroke-width:1.0;" width="10" x="1654" y="588.6465"/><rect fill="#FFFFFF" height="899.8965" style="stroke:#181818;stroke-width:1.0;" width="10" x="1831.5" y="156.5332"/><rect fill="#FFFFFF" height="868.6055" style="stroke:#181818;stroke-width:1.0;" width="10" x="1836.5" y="187.8242"/><rect fill="#FFFFFF" height="837.3145" style="stroke:#181818;stroke-width:1.0;" width="10" x="1841.5" y="219.1152"/><rect fill="#FFFFFF" height="806.0234" style="stroke:#181818;stroke-width:1.0;" width="10" x="1846.5" y="250.4063"/><rect fill="#FFFFFF" height="774.7324" style="stroke:#181818;stroke-width:1.0;" width="10" x="1851.5" y="281.6973"/><rect fill="#FFFFFF" height="405.2012" style="stroke:#181818;stroke-width:1.0;" width="10" x="1856.5" y="651.2285"/><polygon fill="#181818" points="1819.5,152.5332,1829.5,156.5332,1819.5,160.5332,1823.5,156.5332" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="137.5" x2="1825.5" y1="156.5332" y2="156.5332"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="144.5" y="151.2705">1</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="113" x="155.5" y="151.2705">subscribe "product"</text><polygon fill="#181818" points="1824.5,183.8242,1834.5,187.8242,1824.5,191.8242,1828.5,187.8242" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="234.5" x2="1830.5" y1="187.8242" y2="187.8242"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="241.5" y="182.5615">2</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="113" x="252.5" y="182.5615">subscribe "product"</text><polygon fill="#181818" points="1829.5,215.1152,1839.5,219.1152,1829.5,223.1152,1833.5,219.1152" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="355.5" x2="1835.5" y1="219.1152" y2="219.1152"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="362.5" y="213.8525">3</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="113" x="373.5" y="213.8525">subscribe "product"</text><polygon fill="#181818" points="1834.5,246.4063,1844.5,250.4063,1834.5,254.4063,1838.5,250.4063" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="476.5" x2="1840.5" y1="250.4063" y2="250.4063"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="483.5" y="245.1436">4</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="113" x="494.5" y="245.1436">subscribe "product"</text><polygon fill="#181818" points="1839.5,277.6973,1849.5,281.6973,1839.5,285.6973,1843.5,281.6973" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="597.5" x2="1845.5" y1="281.6973" y2="281.6973"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="604.5" y="276.4346">5</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="113" x="615.5" y="276.4346">subscribe "product"</text><polygon fill="#181818" points="120.5,308.9883,130.5,312.9883,120.5,316.9883,124.5,312.9883" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="27.5" x2="126.5" y1="312.9883" y2="312.9883"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="34.5" y="307.7256">6</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="75" x="45.5" y="307.7256">POST/create</text><polygon fill="#181818" points="701.5,340.2793,711.5,344.2793,701.5,348.2793,705.5,344.2793" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="142.5" x2="707.5" y1="344.2793" y2="344.2793"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="149.5" y="339.0166">7</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="75" x="160.5" y="339.0166">POST/create</text><polygon fill="#181818" points="947.5,371.5703,957.5,375.5703,947.5,379.5703,951.5,375.5703" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="723.5" x2="953.5" y1="375.5703" y2="375.5703"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="730.5" y="370.3076">8</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="206" x="741.5" y="370.3076">create(ProductDetailsDTO, request)</text><line style="stroke:#181818;stroke-width:1.0;" x1="969.5" x2="1016.5" y1="401.8613" y2="401.8613"/><line style="stroke:#181818;stroke-width:1.0;" x1="1016.5" x2="1016.5" y1="401.8613" y2="414.8613"/><line style="stroke:#181818;stroke-width:1.0;" x1="975.5" x2="1016.5" y1="414.8613" y2="414.8613"/><polygon fill="#181818" points="985.5,410.8613,975.5,414.8613,985.5,418.8613,981.5,414.8613" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="981.5" y="396.5986">9</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="134" x="992.5" y="396.5986">jwt = parseJwt(request)</text><polygon fill="#181818" points="1340,447.1523,1350,451.1523,1340,455.1523,1344,451.1523" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="974.5" x2="1346" y1="451.1523" y2="451.1523"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="981.5" y="445.8896">10</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="86" x="999.5" y="445.8896">findByJWT(jwt)</text><polygon fill="#181818" points="985.5,478.4434,975.5,482.4434,985.5,486.4434,981.5,482.4434" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="979.5" x2="1356" y1="482.4434" y2="482.4434"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="991.5" y="477.1807">11</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="25" x="1009.5" y="477.1807">user</text><polygon fill="#181818" points="1412,509.7344,1422,513.7344,1412,517.7344,1416,513.7344" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="974.5" x2="1418" y1="513.7344" y2="513.7344"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="981.5" y="508.4717">12</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="153" x="999.5" y="508.4717">create(productDetailsDTO)</text><rect fill="#E2E2F0" height="32.6211" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="116" x="1424" y="490.4434"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="102" x="1431" y="512.5508">Product:Product</text><polygon fill="#181818" points="985.5,553.3555,975.5,557.3555,985.5,561.3555,981.5,557.3555" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="979.5" x2="1481" y1="557.3555" y2="557.3555"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="991.5" y="552.0928">13</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="43" x="1009.5" y="552.0928">product</text><polygon fill="#181818" points="1642,584.6465,1652,588.6465,1642,592.6465,1646,588.6465" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="974.5" x2="1648" y1="588.6465" y2="588.6465"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="981.5" y="583.3838">14</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="154" x="999.5" y="583.3838">productRepo.save(product)</text><polygon fill="#181818" points="985.5,615.9375,975.5,619.9375,985.5,623.9375,981.5,619.9375" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="979.5" x2="1658" y1="619.9375" y2="619.9375"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="991.5" y="614.6748">15</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="14" x="1009.5" y="614.6748">ok</text><polygon fill="#181818" points="1844.5,647.2285,1854.5,651.2285,1844.5,655.2285,1848.5,651.2285" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="974.5" x2="1850.5" y1="651.2285" y2="651.2285"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="981.5" y="645.9658">16</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="159" x="999.5" y="645.9658">publish "product, {Product}"</text><polygon fill="#181818" points="250.5,678.5195,240.5,682.5195,250.5,686.5195,246.5,682.5195" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="244.5" x2="1855.5" y1="682.5195" y2="682.5195"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="256.5" y="677.2568">17</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="149" x="274.5" y="677.2568">notify "product, {Product}"</text><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="239.5" x2="281.5" y1="718.8105" y2="718.8105"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="281.5" x2="281.5" y1="718.8105" y2="731.8105"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="234.5" x2="281.5" y1="731.8105" y2="731.8105"/><polygon fill="#181818" points="244.5,727.8105,234.5,731.8105,244.5,735.8105,240.5,731.8105" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="246.5" y="713.5479">18</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="79" x="264.5" y="713.5479">save(Product)</text><polygon fill="#181818" points="371.5,754.1016,361.5,758.1016,371.5,762.1016,367.5,758.1016" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="365.5" x2="1855.5" y1="758.1016" y2="758.1016"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="377.5" y="752.8389">19</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="149" x="395.5" y="752.8389">notify "product, {Product}"</text><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="360.5" x2="402.5" y1="794.3926" y2="794.3926"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="402.5" x2="402.5" y1="794.3926" y2="807.3926"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="355.5" x2="402.5" y1="807.3926" y2="807.3926"/><polygon fill="#181818" points="365.5,803.3926,355.5,807.3926,365.5,811.3926,361.5,807.3926" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="367.5" y="789.1299">20</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="79" x="385.5" y="789.1299">save(Product)</text><polygon fill="#181818" points="613.5,829.6836,603.5,833.6836,613.5,837.6836,609.5,833.6836" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="607.5" x2="1855.5" y1="833.6836" y2="833.6836"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="619.5" y="828.4209">21</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="149" x="637.5" y="828.4209">notify "product, {Product}"</text><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="602.5" x2="644.5" y1="869.9746" y2="869.9746"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="644.5" x2="644.5" y1="869.9746" y2="882.9746"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="597.5" x2="644.5" y1="882.9746" y2="882.9746"/><polygon fill="#181818" points="607.5,878.9746,597.5,882.9746,607.5,886.9746,603.5,882.9746" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="609.5" y="864.7119">22</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="79" x="627.5" y="864.7119">save(Product)</text><polygon fill="#181818" points="492.5,905.2656,482.5,909.2656,492.5,913.2656,488.5,909.2656" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="486.5" x2="1855.5" y1="909.2656" y2="909.2656"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="498.5" y="904.0029">23</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="149" x="516.5" y="904.0029">notify "product, {Product}"</text><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="481.5" x2="523.5" y1="945.5566" y2="945.5566"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="523.5" x2="523.5" y1="945.5566" y2="958.5566"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="476.5" x2="523.5" y1="958.5566" y2="958.5566"/><polygon fill="#181818" points="486.5,954.5566,476.5,958.5566,486.5,962.5566,482.5,958.5566" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="488.5" y="940.2939">24</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="79" x="506.5" y="940.2939">save(Product)</text><polygon fill="#181818" points="734.5,980.8477,724.5,984.8477,734.5,988.8477,730.5,984.8477" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="728.5" x2="958.5" y1="984.8477" y2="984.8477"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="740.5" y="979.585">25</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="14" x="758.5" y="979.585">ok</text><polygon fill="#181818" points="153.5,1012.1387,143.5,1016.1387,153.5,1020.1387,149.5,1016.1387" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="147.5" x2="717.5" y1="1016.1387" y2="1016.1387"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="159.5" y="1010.876">26</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="14" x="177.5" y="1010.876">ok</text><polygon fill="#181818" points="43.5,1043.4297,33.5,1047.4297,43.5,1051.4297,39.5,1047.4297" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="37.5" x2="131.5" y1="1047.4297" y2="1047.4297"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="49.5" y="1042.167">27</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="14" x="67.5" y="1042.167">ok</text><!--MD5=[9fab4fe58df94258399e42b5c37c0584]
@startuml
'https://plantuml.com/sequence-diagram
title Create Product
autoactivate on
autonumber

actor "User" as User

participant ":ProductC1" as productC
participant ":ReviewC_n" as reviewC_n
participant ":ReviewQ_n" as reviewQ_n
participant ":ProductC_n" as productC_n
participant ":ProductQ_n" as productQ_n

participant "ReviewController" as Ctrl
participant "reviewService:ReviewService" as Svc
participant "productRepo:ProductRepository" as repository
participant ":JWTRepository" as jwtRepository
participant "Product:Product" as product
participant "ProductRepo:ProductRepository" as Repo

participant ":MessageBroker" as broker



productC -> broker: subscribe "product"
reviewC_n -> broker: subscribe "product"
reviewQ_n -> broker: subscribe "product"
productC_n -> broker: subscribe "product"
productQ_n -> broker: subscribe "product"

activate User
User -> productC : POST/create
productC -> Ctrl: POST/create


Ctrl -> Svc : create(ProductDetailsDTO, request)

Svc -> Svc: jwt = parseJwt(request)
Svc -> jwtRepository: findByJWT(jwt)
jwtRepository - -> Svc: user
Svc -> product** : create(productDetailsDTO)
product - -> Svc :  product
Svc -> Repo : productRepo.save(product)
Repo - -> Svc : ok
Svc -> broker: publish "product, {Product}"

reviewC_n <- broker: notify "product, {Product}"
reviewC_n - -> reviewC_n: save(Product)


reviewQ_n <- broker: notify "product, {Product}"
reviewQ_n - -> reviewQ_n: save(Product)

productQ_n <- broker: notify "product, {Product}"
productQ_n - -> productQ_n: save(Product)
productC_n <- broker: notify "product, {Product}"
productC_n - -> productC_n: save(Product)

Svc - -> Ctrl : ok
Ctrl - -> productC : ok
productC -> User: ok

@enduml

@startuml
title Create Product
autoactivate on
autonumber

actor "User" as User

participant ":ProductC1" as productC
participant ":ReviewC_n" as reviewC_n
participant ":ReviewQ_n" as reviewQ_n
participant ":ProductC_n" as productC_n
participant ":ProductQ_n" as productQ_n

participant "ReviewController" as Ctrl
participant "reviewService:ReviewService" as Svc
participant "productRepo:ProductRepository" as repository
participant ":JWTRepository" as jwtRepository
participant "Product:Product" as product
participant "ProductRepo:ProductRepository" as Repo

participant ":MessageBroker" as broker



productC -> broker: subscribe "product"
reviewC_n -> broker: subscribe "product"
reviewQ_n -> broker: subscribe "product"
productC_n -> broker: subscribe "product"
productQ_n -> broker: subscribe "product"

activate User
User -> productC : POST/create
productC -> Ctrl: POST/create


Ctrl -> Svc : create(ProductDetailsDTO, request)

Svc -> Svc: jwt = parseJwt(request)
Svc -> jwtRepository: findByJWT(jwt)
jwtRepository - -> Svc: user
Svc -> product** : create(productDetailsDTO)
product - -> Svc :  product
Svc -> Repo : productRepo.save(product)
Repo - -> Svc : ok
Svc -> broker: publish "product, {Product}"

reviewC_n <- broker: notify "product, {Product}"
reviewC_n - -> reviewC_n: save(Product)


reviewQ_n <- broker: notify "product, {Product}"
reviewQ_n - -> reviewQ_n: save(Product)

productQ_n <- broker: notify "product, {Product}"
productQ_n - -> productQ_n: save(Product)
productC_n <- broker: notify "product, {Product}"
productC_n - -> productC_n: save(Product)

Svc - -> Ctrl : ok
Ctrl - -> productC : ok
productC -> User: ok

@enduml

PlantUML version 1.2022.13(Sat Nov 19 13:22:17 WET 2022)
(GPL source distribution)
Java Runtime: OpenJDK Runtime Environment
JVM: OpenJDK 64-Bit Server VM
Default Encoding: Cp1252
Language: pt
Country: PT
--></g></svg>
<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentStyleType="text/css" height="1333px" preserveAspectRatio="none" style="width:2127px;height:1333px;background:#FFFFFF;" version="1.1" viewBox="0 0 2127 1333" width="2127px" zoomAndPan="magnify"><defs/><g><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="120" x="1002.5" y="30.1074">Vote for a review</text><rect fill="#FFFFFF" height="960.0605" style="stroke:#181818;stroke-width:1.0;" width="10" x="21" y="281.6973"/><rect fill="#FFFFFF" height="919.7695" style="stroke:#181818;stroke-width:1.0;" width="10" x="196" y="312.9883"/><rect fill="#FFFFFF" height="228.0371" style="stroke:#181818;stroke-width:1.0;" width="10" x="271" y="1013.7207"/><rect fill="#FFFFFF" height="196.7461" style="stroke:#181818;stroke-width:1.0;" width="10" x="346.5" y="1045.0117"/><rect fill="#FFFFFF" height="165.4551" style="stroke:#181818;stroke-width:1.0;" width="10" x="422.5" y="1076.3027"/><rect fill="#FFFFFF" height="134.1641" style="stroke:#181818;stroke-width:1.0;" width="10" x="506" y="1107.5938"/><rect fill="#FFFFFF" height="102.873" style="stroke:#181818;stroke-width:1.0;" width="10" x="597" y="1138.8848"/><rect fill="#FFFFFF" height="857.1875" style="stroke:#181818;stroke-width:1.0;" width="10" x="707.5" y="344.2793"/><rect fill="#FFFFFF" height="794.6055" style="stroke:#181818;stroke-width:1.0;" width="10" x="984.5" y="375.5703"/><rect fill="#FFFFFF" height="31.291" style="stroke:#181818;stroke-width:1.0;" width="10" x="1190.5" y="919.8477"/><rect fill="#FFFFFF" height="31.291" style="stroke:#181818;stroke-width:1.0;" width="10" x="1412" y="406.8613"/><rect fill="#FFFFFF" height="93.873" style="stroke:#181818;stroke-width:1.0;" width="10" x="1412" y="469.4434"/><rect fill="#FFFFFF" height="93.873" style="stroke:#181818;stroke-width:1.0;" width="10" x="1412" y="594.6074"/><rect fill="#FFFFFF" height="93.873" style="stroke:#181818;stroke-width:1.0;" width="10" x="1412" y="794.6836"/><rect fill="#FFFFFF" height="31.291" style="stroke:#181818;stroke-width:1.0;" width="10" x="1737" y="625.8984"/><rect fill="#FFFFFF" height="31.291" style="stroke:#181818;stroke-width:1.0;" width="10" x="1737" y="825.9746"/><rect fill="#FFFFFF" height="31.291" style="stroke:#181818;stroke-width:1.0;" width="10" x="1855" y="500.7344"/><rect fill="#FFFFFF" height="1085.2246" style="stroke:#181818;stroke-width:1.0;" width="10" x="2057.5" y="156.5332"/><rect fill="#FFFFFF" height="1053.9336" style="stroke:#181818;stroke-width:1.0;" width="10" x="2062.5" y="187.8242"/><rect fill="#FFFFFF" height="1022.6426" style="stroke:#181818;stroke-width:1.0;" width="10" x="2067.5" y="219.1152"/><rect fill="#FFFFFF" height="991.3516" style="stroke:#181818;stroke-width:1.0;" width="10" x="2072.5" y="250.4063"/><rect fill="#FFFFFF" height="960.0605" style="stroke:#181818;stroke-width:1.0;" width="10" x="2077.5" y="281.6973"/><rect fill="#FFFFFF" height="259.3281" style="stroke:#181818;stroke-width:1.0;" width="10" x="2082.5" y="982.4297"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="26" x2="26" y1="123.2422" y2="1250.7578"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="200.5" x2="200.5" y1="123.2422" y2="1250.7578"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="275.5" x2="275.5" y1="123.2422" y2="1250.7578"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="351.5" x2="351.5" y1="123.2422" y2="1250.7578"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="427.5" x2="427.5" y1="123.2422" y2="1250.7578"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="510.5" x2="510.5" y1="123.2422" y2="1250.7578"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="601.5" x2="601.5" y1="123.2422" y2="1250.7578"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="712.5" x2="712.5" y1="123.2422" y2="1250.7578"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="989.5" x2="989.5" y1="123.2422" y2="1250.7578"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="1195.5" x2="1195.5" y1="123.2422" y2="1250.7578"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="1416.5" x2="1416.5" y1="123.2422" y2="1250.7578"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="1742" x2="1742" y1="123.2422" y2="1250.7578"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="1860" x2="1860" y1="123.2422" y2="1250.7578"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="1957" x2="1957" y1="728.291" y2="1250.7578"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="2062" x2="2062" y1="123.2422" y2="1250.7578"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="36" x="5" y="119.7285">Client</text><ellipse cx="26" cy="53.1211" fill="#E2E2F0" rx="8" ry="8" style="stroke:#181818;stroke-width:0.5;"/><path d="M26,61.1211 L26,88.1211 M13,69.1211 L39,69.1211 M26,88.1211 L13,103.1211 M26,88.1211 L39,103.1211 " fill="none" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="36" x="5" y="1264.8652">Client</text><ellipse cx="26" cy="1276.8789" fill="#E2E2F0" rx="8" ry="8" style="stroke:#181818;stroke-width:0.5;"/><path d="M26,1284.8789 L26,1311.8789 M13,1292.8789 L39,1292.8789 M26,1311.8789 L13,1326.8789 M26,1311.8789 L39,1326.8789 " fill="none" style="stroke:#181818;stroke-width:0.5;"/><rect fill="#E2E2F0" height="32.6211" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="57" x="172.5" y="89.6211"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="43" x="179.5" y="111.7285">:VoteC</text><rect fill="#E2E2F0" height="32.6211" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="57" x="172.5" y="1249.7578"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="43" x="179.5" y="1271.8652">:VoteC</text><rect fill="#E2E2F0" height="32.6211" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="73" x="239.5" y="89.6211"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="59" x="246.5" y="111.7285">:VoteC_n</text><rect fill="#E2E2F0" height="32.6211" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="73" x="239.5" y="1249.7578"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="59" x="246.5" y="1271.8652">:VoteC_n</text><rect fill="#E2E2F0" height="32.6211" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="58" x="322.5" y="89.6211"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="44" x="329.5" y="111.7285">:VoteQ</text><rect fill="#E2E2F0" height="32.6211" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="58" x="322.5" y="1249.7578"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="44" x="329.5" y="1271.8652">:VoteQ</text><rect fill="#E2E2F0" height="32.6211" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="74" x="390.5" y="89.6211"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="60" x="397.5" y="111.7285">:VoteQ_n</text><rect fill="#E2E2F0" height="32.6211" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="74" x="390.5" y="1249.7578"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="60" x="397.5" y="1271.8652">:VoteQ_n</text><rect fill="#E2E2F0" height="32.6211" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="73" x="474.5" y="89.6211"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="59" x="481.5" y="111.7285">:ReviewC</text><rect fill="#E2E2F0" height="32.6211" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="73" x="474.5" y="1249.7578"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="59" x="481.5" y="1271.8652">:ReviewC</text><rect fill="#E2E2F0" height="32.6211" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="89" x="557.5" y="89.6211"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="75" x="564.5" y="111.7285">:ReviewC_n</text><rect fill="#E2E2F0" height="32.6211" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="89" x="557.5" y="1249.7578"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="75" x="564.5" y="1271.8652">:ReviewC_n</text><rect fill="#E2E2F0" height="32.6211" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="112" x="656.5" y="89.6211"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="98" x="663.5" y="111.7285">VotesController</text><rect fill="#E2E2F0" height="32.6211" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="112" x="656.5" y="1249.7578"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="98" x="663.5" y="1271.8652">VotesController</text><rect fill="#E2E2F0" height="32.6211" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="182" x="898.5" y="89.6211"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="168" x="905.5" y="111.7285">votesService:VotesService</text><rect fill="#E2E2F0" height="32.6211" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="182" x="898.5" y="1249.7578"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="168" x="905.5" y="1271.8652">votesService:VotesService</text><rect fill="#E2E2F0" height="32.6211" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="210" x="1090.5" y="89.6211"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="196" x="1097.5" y="111.7285">voteRepository:VoteRepository</text><rect fill="#E2E2F0" height="32.6211" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="210" x="1090.5" y="1249.7578"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="196" x="1097.5" y="1271.8652">voteRepository:VoteRepository</text><rect fill="#E2E2F0" height="32.6211" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="213" x="1310.5" y="89.6211"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="199" x="1317.5" y="111.7285">requestService:RequestService</text><rect fill="#E2E2F0" height="32.6211" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="213" x="1310.5" y="1249.7578"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="199" x="1317.5" y="1271.8652">requestService:RequestService</text><rect fill="#E2E2F0" height="32.6211" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="116" x="1684" y="89.6211"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="102" x="1691" y="111.7285">:ReviewInstance</text><rect fill="#E2E2F0" height="32.6211" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="116" x="1684" y="1249.7578"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="102" x="1691" y="1271.8652">:ReviewInstance</text><rect fill="#E2E2F0" height="32.6211" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="100" x="1810" y="89.6211"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="86" x="1817" y="111.7285">:AuthInstance</text><rect fill="#E2E2F0" height="32.6211" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="100" x="1810" y="1249.7578"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="86" x="1817" y="1271.8652">:AuthInstance</text><rect fill="#E2E2F0" height="32.6211" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="74" x="1920" y="1249.7578"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="60" x="1927" y="1271.8652">vote:Vote</text><rect fill="#E2E2F0" height="32.6211" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="117" x="2004" y="89.6211"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="103" x="2011" y="111.7285">:MessageBroker</text><rect fill="#E2E2F0" height="32.6211" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="117" x="2004" y="1249.7578"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="103" x="2011" y="1271.8652">:MessageBroker</text><rect fill="#FFFFFF" height="960.0605" style="stroke:#181818;stroke-width:1.0;" width="10" x="21" y="281.6973"/><rect fill="#FFFFFF" height="919.7695" style="stroke:#181818;stroke-width:1.0;" width="10" x="196" y="312.9883"/><rect fill="#FFFFFF" height="228.0371" style="stroke:#181818;stroke-width:1.0;" width="10" x="271" y="1013.7207"/><rect fill="#FFFFFF" height="196.7461" style="stroke:#181818;stroke-width:1.0;" width="10" x="346.5" y="1045.0117"/><rect fill="#FFFFFF" height="165.4551" style="stroke:#181818;stroke-width:1.0;" width="10" x="422.5" y="1076.3027"/><rect fill="#FFFFFF" height="134.1641" style="stroke:#181818;stroke-width:1.0;" width="10" x="506" y="1107.5938"/><rect fill="#FFFFFF" height="102.873" style="stroke:#181818;stroke-width:1.0;" width="10" x="597" y="1138.8848"/><rect fill="#FFFFFF" height="857.1875" style="stroke:#181818;stroke-width:1.0;" width="10" x="707.5" y="344.2793"/><rect fill="#FFFFFF" height="794.6055" style="stroke:#181818;stroke-width:1.0;" width="10" x="984.5" y="375.5703"/><rect fill="#FFFFFF" height="31.291" style="stroke:#181818;stroke-width:1.0;" width="10" x="1190.5" y="919.8477"/><rect fill="#FFFFFF" height="31.291" style="stroke:#181818;stroke-width:1.0;" width="10" x="1412" y="406.8613"/><rect fill="#FFFFFF" height="93.873" style="stroke:#181818;stroke-width:1.0;" width="10" x="1412" y="469.4434"/><rect fill="#FFFFFF" height="93.873" style="stroke:#181818;stroke-width:1.0;" width="10" x="1412" y="594.6074"/><rect fill="#FFFFFF" height="93.873" style="stroke:#181818;stroke-width:1.0;" width="10" x="1412" y="794.6836"/><rect fill="#FFFFFF" height="31.291" style="stroke:#181818;stroke-width:1.0;" width="10" x="1737" y="625.8984"/><rect fill="#FFFFFF" height="31.291" style="stroke:#181818;stroke-width:1.0;" width="10" x="1737" y="825.9746"/><rect fill="#FFFFFF" height="31.291" style="stroke:#181818;stroke-width:1.0;" width="10" x="1855" y="500.7344"/><rect fill="#FFFFFF" height="1085.2246" style="stroke:#181818;stroke-width:1.0;" width="10" x="2057.5" y="156.5332"/><rect fill="#FFFFFF" height="1053.9336" style="stroke:#181818;stroke-width:1.0;" width="10" x="2062.5" y="187.8242"/><rect fill="#FFFFFF" height="1022.6426" style="stroke:#181818;stroke-width:1.0;" width="10" x="2067.5" y="219.1152"/><rect fill="#FFFFFF" height="991.3516" style="stroke:#181818;stroke-width:1.0;" width="10" x="2072.5" y="250.4063"/><rect fill="#FFFFFF" height="960.0605" style="stroke:#181818;stroke-width:1.0;" width="10" x="2077.5" y="281.6973"/><rect fill="#FFFFFF" height="259.3281" style="stroke:#181818;stroke-width:1.0;" width="10" x="2082.5" y="982.4297"/><polygon fill="#181818" points="2045.5,152.5332,2055.5,156.5332,2045.5,160.5332,2049.5,156.5332" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="276" x2="2051.5" y1="156.5332" y2="156.5332"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="283" y="151.2705">1</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="144" x="294" y="151.2705">subscribe "Vote.created"</text><polygon fill="#181818" points="2050.5,183.8242,2060.5,187.8242,2050.5,191.8242,2054.5,187.8242" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="351.5" x2="2056.5" y1="187.8242" y2="187.8242"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="358.5" y="182.5615">2</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="144" x="369.5" y="182.5615">subscribe "Vote.created"</text><polygon fill="#181818" points="2055.5,215.1152,2065.5,219.1152,2055.5,223.1152,2059.5,219.1152" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="427.5" x2="2061.5" y1="219.1152" y2="219.1152"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="434.5" y="213.8525">3</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="144" x="445.5" y="213.8525">subscribe "Vote.created"</text><polygon fill="#181818" points="2060.5,246.4063,2070.5,250.4063,2060.5,254.4063,2064.5,250.4063" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="511" x2="2066.5" y1="250.4063" y2="250.4063"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="518" y="245.1436">4</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="144" x="529" y="245.1436">subscribe "Vote.created"</text><polygon fill="#181818" points="2065.5,277.6973,2075.5,281.6973,2065.5,285.6973,2069.5,281.6973" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="602" x2="2071.5" y1="281.6973" y2="281.6973"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="609" y="276.4346">5</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="144" x="620" y="276.4346">subscribe "Vote.created"</text><polygon fill="#181818" points="184,308.9883,194,312.9883,184,316.9883,188,312.9883" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="31" x2="190" y1="312.9883" y2="312.9883"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="38" y="307.7256">6</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="135" x="49" y="307.7256">POST /votes/{idReview}</text><polygon fill="#181818" points="695.5,340.2793,705.5,344.2793,695.5,348.2793,699.5,344.2793" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="206" x2="701.5" y1="344.2793" y2="344.2793"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="213" y="339.0166">7</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="135" x="224" y="339.0166">POST /votes/{idReview}</text><polygon fill="#181818" points="972.5,371.5703,982.5,375.5703,972.5,379.5703,976.5,375.5703" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="717.5" x2="978.5" y1="375.5703" y2="375.5703"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="724.5" y="370.3076">8</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="237" x="735.5" y="370.3076">service.create(resource,idReview,idUser);</text><polygon fill="#181818" points="1400,402.8613,1410,406.8613,1400,410.8613,1404,406.8613" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="994.5" x2="1406" y1="406.8613" y2="406.8613"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="1001.5" y="401.5986">9</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="102" x="1012.5" y="401.5986">parseJwt(request)</text><polygon fill="#181818" points="1005.5,434.1523,995.5,438.1523,1005.5,442.1523,1001.5,438.1523" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="999.5" x2="1416" y1="438.1523" y2="438.1523"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="1011.5" y="432.8896">10</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="16" x="1029.5" y="432.8896">jwt</text><polygon fill="#181818" points="1400,465.4434,1410,469.4434,1400,473.4434,1404,469.4434" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="994.5" x2="1406" y1="469.4434" y2="469.4434"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="1001.5" y="464.1807">11</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="201" x="1019.5" y="464.1807">makeRequestToAuthentication(jwt)</text><polygon fill="#181818" points="1843,496.7344,1853,500.7344,1843,504.7344,1847,500.7344" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="1422" x2="1849" y1="500.7344" y2="500.7344"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="1429" y="495.4717">12</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="130" x="1447" y="495.4717">GET /auth/search/{jwt}</text><polygon fill="#181818" points="1433,528.0254,1423,532.0254,1433,536.0254,1429,532.0254" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="1427" x2="1859" y1="532.0254" y2="532.0254"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="1439" y="526.7627">13</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="25" x="1457" y="526.7627">user</text><polygon fill="#181818" points="1005.5,559.3164,995.5,563.3164,1005.5,567.3164,1001.5,563.3164" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="999.5" x2="1416" y1="563.3164" y2="563.3164"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="1011.5" y="558.0537">14</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="25" x="1029.5" y="558.0537">user</text><polygon fill="#181818" points="1400,590.6074,1410,594.6074,1400,598.6074,1404,594.6074" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="994.5" x2="1406" y1="594.6074" y2="594.6074"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="1001.5" y="589.3447">15</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="183" x="1019.5" y="589.3447">retrieveReviewFromApi(reviewId)</text><polygon fill="#181818" points="1725,621.8984,1735,625.8984,1725,629.8984,1729,625.8984" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="1422" x2="1731" y1="625.8984" y2="625.8984"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="1429" y="620.6357">16</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="176" x="1447" y="620.6357">GET /reviews/search/{reviewId}</text><polygon fill="#181818" points="1433,653.1895,1423,657.1895,1433,661.1895,1429,657.1895" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="1427" x2="1741" y1="657.1895" y2="657.1895"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="1439" y="651.9268">17</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="35" x="1457" y="651.9268">review</text><polygon fill="#181818" points="1005.5,684.4805,995.5,688.4805,1005.5,692.4805,1001.5,688.4805" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="999.5" x2="1416" y1="688.4805" y2="688.4805"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="1011.5" y="683.2178">18</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="35" x="1029.5" y="683.2178">review</text><polygon fill="#181818" points="1908,715.7715,1918,719.7715,1908,723.7715,1912,719.7715" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="994.5" x2="1914" y1="719.7715" y2="719.7715"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="1001.5" y="714.5088">19</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="248" x="1019.5" y="714.5088">new(resource.getVote(),user.getId,reviewId)</text><rect fill="#E2E2F0" height="32.6211" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="74" x="1920" y="696.4805"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="60" x="1927" y="718.5879">vote:Vote</text><polygon fill="#181818" points="1005.5,759.3926,995.5,763.3926,1005.5,767.3926,1001.5,763.3926" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="999.5" x2="1956" y1="763.3926" y2="763.3926"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="1011.5" y="758.1299">20</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="23" x="1029.5" y="758.1299">vote</text><polygon fill="#181818" points="1400,790.6836,1410,794.6836,1400,798.6836,1404,794.6836" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="994.5" x2="1406" y1="794.6836" y2="794.6836"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="1001.5" y="789.4209">21</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="251" x="1019.5" y="789.4209">updateReview(reviewId), resource.getVote())</text><polygon fill="#181818" points="1725,821.9746,1735,825.9746,1725,829.9746,1729,825.9746" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="1422" x2="1731" y1="825.9746" y2="825.9746"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="1429" y="820.7119">22</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="278" x="1447" y="820.7119">PUT /reviews/vote/{reviewId}/{resource.getVote()}</text><polygon fill="#181818" points="1433,853.2656,1423,857.2656,1433,861.2656,1429,857.2656" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="1427" x2="1741" y1="857.2656" y2="857.2656"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="1439" y="852.0029">23</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="14" x="1457" y="852.0029">ok</text><polygon fill="#181818" points="1005.5,884.5566,995.5,888.5566,1005.5,892.5566,1001.5,888.5566" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="999.5" x2="1416" y1="888.5566" y2="888.5566"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="1011.5" y="883.2939">24</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="14" x="1029.5" y="883.2939">ok</text><polygon fill="#181818" points="1178.5,915.8477,1188.5,919.8477,1178.5,923.8477,1182.5,919.8477" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="994.5" x2="1184.5" y1="919.8477" y2="919.8477"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="1001.5" y="914.585">25</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="57" x="1019.5" y="914.585">save(vote)</text><polygon fill="#181818" points="1005.5,947.1387,995.5,951.1387,1005.5,955.1387,1001.5,951.1387" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="999.5" x2="1194.5" y1="951.1387" y2="951.1387"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="1011.5" y="945.876">26</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="14" x="1029.5" y="945.876">ok</text><polygon fill="#181818" points="2070.5,978.4297,2080.5,982.4297,2070.5,986.4297,2074.5,982.4297" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="994.5" x2="2076.5" y1="982.4297" y2="982.4297"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="1001.5" y="977.167">27</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="172" x="1019.5" y="977.167">publish "Vote.created, {Vote}"</text><polygon fill="#181818" points="292,1009.7207,282,1013.7207,292,1017.7207,288,1013.7207" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="286" x2="2081.5" y1="1013.7207" y2="1013.7207"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="298" y="1008.458">28</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="162" x="316" y="1008.458">notify "Vote.created, {Vote}"</text><polygon fill="#181818" points="367.5,1041.0117,357.5,1045.0117,367.5,1049.0117,363.5,1045.0117" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="361.5" x2="2081.5" y1="1045.0117" y2="1045.0117"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="373.5" y="1039.749">29</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="162" x="391.5" y="1039.749">notify "Vote.created, {Vote}"</text><polygon fill="#181818" points="443.5,1072.3027,433.5,1076.3027,443.5,1080.3027,439.5,1076.3027" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="437.5" x2="2081.5" y1="1076.3027" y2="1076.3027"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="449.5" y="1071.04">30</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="162" x="467.5" y="1071.04">notify "Vote.created, {Vote}"</text><polygon fill="#181818" points="527,1103.5938,517,1107.5938,527,1111.5938,523,1107.5938" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="521" x2="2081.5" y1="1107.5938" y2="1107.5938"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="533" y="1102.3311">31</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="162" x="551" y="1102.3311">notify "Vote.created, {Vote}"</text><polygon fill="#181818" points="618,1134.8848,608,1138.8848,618,1142.8848,614,1138.8848" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="612" x2="2081.5" y1="1138.8848" y2="1138.8848"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="624" y="1133.6221">32</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="162" x="642" y="1133.6221">notify "Vote.created, {Vote}"</text><polygon fill="#181818" points="728.5,1166.1758,718.5,1170.1758,728.5,1174.1758,724.5,1170.1758" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="722.5" x2="988.5" y1="1170.1758" y2="1170.1758"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="734.5" y="1164.9131">33</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="14" x="752.5" y="1164.9131">ok</text><polygon fill="#181818" points="217,1197.4668,207,1201.4668,217,1205.4668,213,1201.4668" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="211" x2="711.5" y1="1201.4668" y2="1201.4668"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="223" y="1196.2041">34</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="14" x="241" y="1196.2041">ok</text><polygon fill="#181818" points="42,1228.7578,32,1232.7578,42,1236.7578,38,1232.7578" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="36" x2="200" y1="1232.7578" y2="1232.7578"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="48" y="1227.4951">35</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="14" x="66" y="1227.4951">ok</text><!--MD5=[68a7f8ff6870a8fd7f203f907bacaf64]
@startuml
'https://plantuml.com/sequence-diagram

title Vote for a review
autoactivate on
autonumber

actor "Client" as User
participant ":VoteC" as voteC
participant ":VoteC_n" as voteC_n
participant ":VoteQ" as voteQ
participant ":VoteQ_n" as voteQ_n
participant ":ReviewC" as reviewC
participant ":ReviewC_n" as reviewC_n
participant "VotesController" as Ctrl
participant "votesService:VotesService" as service
participant "voteRepository:VoteRepository" as repo
participant "requestService:RequestService" as request
participant ":ReviewInstance" as instance
participant ":AuthInstance" as instanceAuth

participant "vote:Vote" as vote
participant ":MessageBroker" as broker


voteC_n -> broker: subscribe "Vote.created"
voteQ -> broker: subscribe "Vote.created"
voteQ_n -> broker: subscribe "Vote.created"
reviewC -> broker: subscribe "Vote.created"
reviewC_n -> broker: subscribe "Vote.created"

activate User
User -> voteC : POST /votes/{idReview}
voteC -> Ctrl:  POST /votes/{idReview}
Ctrl -> service : service.create(resource,idReview,idUser);
service -> request: parseJwt(request)
request - -> service: jwt
service -> request: makeRequestToAuthentication(jwt)
request -> instanceAuth: GET /auth/search/{jwt}
instanceAuth - -> request: user
request - -> service: user

service -> request:retrieveReviewFromApi(reviewId)
request -> instance: GET /reviews/search/{reviewId}
instance - -> request: review
request - -> service: review

service -> vote**: new(resource.getVote(),user.getId,reviewId)
vote - -> service: vote
service -> request: updateReview(reviewId), resource.getVote())
request -> instance: PUT /reviews/vote/{reviewId}/{resource.getVote()}
instance - -> request: ok
request - -> service: ok
service -> repo: save(vote)
repo - -> service: ok
service -> broker: publish "Vote.created, {Vote}"

voteC_n <- broker: notify "Vote.created, {Vote}"
voteQ <- broker: notify "Vote.created, {Vote}"
voteQ_n <- broker: notify "Vote.created, {Vote}"
reviewC <- broker: notify "Vote.created, {Vote}"
reviewC_n <- broker: notify "Vote.created, {Vote}"

service - -> Ctrl: ok
Ctrl - -> voteC: ok
voteC - -> User: ok

@enduml

@startuml

title Vote for a review
autoactivate on
autonumber

actor "Client" as User
participant ":VoteC" as voteC
participant ":VoteC_n" as voteC_n
participant ":VoteQ" as voteQ
participant ":VoteQ_n" as voteQ_n
participant ":ReviewC" as reviewC
participant ":ReviewC_n" as reviewC_n
participant "VotesController" as Ctrl
participant "votesService:VotesService" as service
participant "voteRepository:VoteRepository" as repo
participant "requestService:RequestService" as request
participant ":ReviewInstance" as instance
participant ":AuthInstance" as instanceAuth

participant "vote:Vote" as vote
participant ":MessageBroker" as broker


voteC_n -> broker: subscribe "Vote.created"
voteQ -> broker: subscribe "Vote.created"
voteQ_n -> broker: subscribe "Vote.created"
reviewC -> broker: subscribe "Vote.created"
reviewC_n -> broker: subscribe "Vote.created"

activate User
User -> voteC : POST /votes/{idReview}
voteC -> Ctrl:  POST /votes/{idReview}
Ctrl -> service : service.create(resource,idReview,idUser);
service -> request: parseJwt(request)
request - -> service: jwt
service -> request: makeRequestToAuthentication(jwt)
request -> instanceAuth: GET /auth/search/{jwt}
instanceAuth - -> request: user
request - -> service: user

service -> request:retrieveReviewFromApi(reviewId)
request -> instance: GET /reviews/search/{reviewId}
instance - -> request: review
request - -> service: review

service -> vote**: new(resource.getVote(),user.getId,reviewId)
vote - -> service: vote
service -> request: updateReview(reviewId), resource.getVote())
request -> instance: PUT /reviews/vote/{reviewId}/{resource.getVote()}
instance - -> request: ok
request - -> service: ok
service -> repo: save(vote)
repo - -> service: ok
service -> broker: publish "Vote.created, {Vote}"

voteC_n <- broker: notify "Vote.created, {Vote}"
voteQ <- broker: notify "Vote.created, {Vote}"
voteQ_n <- broker: notify "Vote.created, {Vote}"
reviewC <- broker: notify "Vote.created, {Vote}"
reviewC_n <- broker: notify "Vote.created, {Vote}"

service - -> Ctrl: ok
Ctrl - -> voteC: ok
voteC - -> User: ok

@enduml

PlantUML version 1.2022.13(Sat Nov 19 13:22:17 WET 2022)
(GPL source distribution)
Java Runtime: OpenJDK Runtime Environment
JVM: OpenJDK 64-Bit Server VM
Default Encoding: Cp1252
Language: pt
Country: PT
--></g></svg>
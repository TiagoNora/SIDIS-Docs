<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentStyleType="text/css" height="539px" preserveAspectRatio="none" style="width:1104px;height:539px;background:#FFFFFF;" version="1.1" viewBox="0 0 1104 539" width="1104px" zoomAndPan="magnify"><defs/><g><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="719" x="191.75" y="30.1074">Obtain the reviews of a product, sorted by number of votes and reverse chronological publishing date</text><rect fill="#FFFFFF" height="313.9102" style="stroke:#181818;stroke-width:1.0;" width="10" x="21" y="133.2422"/><rect fill="#FFFFFF" height="281.6191" style="stroke:#181818;stroke-width:1.0;" width="10" x="163" y="156.5332"/><rect fill="#FFFFFF" height="219.0371" style="stroke:#181818;stroke-width:1.0;" width="10" x="305" y="187.8242"/><rect fill="#FFFFFF" height="156.4551" style="stroke:#181818;stroke-width:1.0;" width="10" x="584" y="219.1152"/><rect fill="#FFFFFF" height="31.291" style="stroke:#181818;stroke-width:1.0;" width="10" x="833" y="312.9883"/><rect fill="#FFFFFF" height="31.291" style="stroke:#181818;stroke-width:1.0;" width="10" x="1028" y="250.4063"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="26" x2="26" y1="123.2422" y2="456.1523"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="168" x2="168" y1="123.2422" y2="456.1523"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="310" x2="310" y1="123.2422" y2="456.1523"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="589" x2="589" y1="123.2422" y2="456.1523"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="837.5" x2="837.5" y1="123.2422" y2="456.1523"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="1032.5" x2="1032.5" y1="123.2422" y2="456.1523"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="36" x="5" y="119.7285">Client</text><ellipse cx="26" cy="53.1211" fill="#E2E2F0" rx="8" ry="8" style="stroke:#181818;stroke-width:0.5;"/><path d="M26,61.1211 L26,88.1211 M13,69.1211 L39,69.1211 M26,88.1211 L13,103.1211 M26,88.1211 L39,103.1211 " fill="none" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="36" x="5" y="470.2598">Client</text><ellipse cx="26" cy="482.2734" fill="#E2E2F0" rx="8" ry="8" style="stroke:#181818;stroke-width:0.5;"/><path d="M26,490.2734 L26,517.2734 M13,498.2734 L39,498.2734 M26,517.2734 L13,532.2734 M26,517.2734 L39,532.2734 " fill="none" style="stroke:#181818;stroke-width:0.5;"/><rect fill="#E2E2F0" height="32.6211" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="80" x="128" y="89.6211"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="66" x="135" y="111.7285">:VotesC_n</text><rect fill="#E2E2F0" height="32.6211" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="80" x="128" y="455.1523"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="66" x="135" y="477.2598">:VotesC_n</text><rect fill="#E2E2F0" height="32.6211" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="112" x="254" y="89.6211"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="98" x="261" y="111.7285">VotesController</text><rect fill="#E2E2F0" height="32.6211" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="112" x="254" y="455.1523"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="98" x="261" y="477.2598">VotesController</text><rect fill="#E2E2F0" height="32.6211" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="168" x="505" y="89.6211"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="154" x="512" y="111.7285">voteService:VoteService</text><rect fill="#E2E2F0" height="32.6211" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="168" x="505" y="455.1523"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="154" x="512" y="477.2598">voteService:VoteService</text><rect fill="#E2E2F0" height="32.6211" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="239" x="718.5" y="89.6211"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="225" x="725.5" y="111.7285">reviewRepository:ReviewRepository</text><rect fill="#E2E2F0" height="32.6211" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="239" x="718.5" y="455.1523"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="225" x="725.5" y="477.2598">reviewRepository:ReviewRepository</text><rect fill="#E2E2F0" height="32.6211" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="131" x="967.5" y="89.6211"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="117" x="974.5" y="111.7285">:ReviewRepository</text><rect fill="#E2E2F0" height="32.6211" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="131" x="967.5" y="455.1523"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="117" x="974.5" y="477.2598">:ReviewRepository</text><rect fill="#FFFFFF" height="313.9102" style="stroke:#181818;stroke-width:1.0;" width="10" x="21" y="133.2422"/><rect fill="#FFFFFF" height="281.6191" style="stroke:#181818;stroke-width:1.0;" width="10" x="163" y="156.5332"/><rect fill="#FFFFFF" height="219.0371" style="stroke:#181818;stroke-width:1.0;" width="10" x="305" y="187.8242"/><rect fill="#FFFFFF" height="156.4551" style="stroke:#181818;stroke-width:1.0;" width="10" x="584" y="219.1152"/><rect fill="#FFFFFF" height="31.291" style="stroke:#181818;stroke-width:1.0;" width="10" x="833" y="312.9883"/><rect fill="#FFFFFF" height="31.291" style="stroke:#181818;stroke-width:1.0;" width="10" x="1028" y="250.4063"/><polygon fill="#181818" points="151,152.5332,161,156.5332,151,160.5332,155,156.5332" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="31" x2="157" y1="156.5332" y2="156.5332"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="38" y="151.2705">1</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="102" x="49" y="151.2705">GET /order/{SKU}</text><polygon fill="#181818" points="293,183.8242,303,187.8242,293,191.8242,297,187.8242" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="173" x2="299" y1="187.8242" y2="187.8242"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="180" y="182.5615">2</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="102" x="191" y="182.5615">GET /order/{SKU}</text><polygon fill="#181818" points="572,215.1152,582,219.1152,572,223.1152,576,219.1152" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="315" x2="578" y1="219.1152" y2="219.1152"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="322" y="213.8525">3</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="239" x="333" y="213.8525">voteService.orderAllReviewsByVotes(sku)</text><polygon fill="#181818" points="1016,246.4063,1026,250.4063,1016,254.4063,1020,250.4063" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="594" x2="1022" y1="250.4063" y2="250.4063"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="601" y="245.1436">4</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="88" x="612" y="245.1436">findBySku(sku)</text><polygon fill="#181818" points="605,277.6973,595,281.6973,605,285.6973,601,281.6973" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="599" x2="1032" y1="281.6973" y2="281.6973"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="611" y="276.4346">5</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="14" x="622" y="276.4346">ok</text><polygon fill="#181818" points="821,308.9883,831,312.9883,821,316.9883,825,312.9883" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="594" x2="827" y1="312.9883" y2="312.9883"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="601" y="307.7256">6</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="209" x="612" y="307.7256">reviewRepository.orderByVotes(sku)</text><polygon fill="#181818" points="605,340.2793,595,344.2793,605,348.2793,601,344.2793" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="599" x2="837" y1="344.2793" y2="344.2793"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="611" y="339.0166">7</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="42" x="622" y="339.0166">reviews</text><polygon fill="#181818" points="326,371.5703,316,375.5703,326,379.5703,322,375.5703" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="320" x2="588" y1="375.5703" y2="375.5703"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="332" y="370.3076">8</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="42" x="343" y="370.3076">reviews</text><polygon fill="#181818" points="184,402.8613,174,406.8613,184,410.8613,180,406.8613" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="178" x2="309" y1="406.8613" y2="406.8613"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="190" y="401.5986">9</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="42" x="201" y="401.5986">reviews</text><polygon fill="#181818" points="42,434.1523,32,438.1523,42,442.1523,38,438.1523" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="36" x2="167" y1="438.1523" y2="438.1523"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="48" y="432.8896">10</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="42" x="66" y="432.8896">reviews</text><!--MD5=[efb89d00dc3ce3d6dc1a00922a78e941]
@startuml
'https://plantuml.com/sequence-diagram

title Obtain the reviews of a product, sorted by number of votes and reverse chronological publishing date
autoactivate on
autonumber

actor "Client" as Client
participant ":VotesC_n" as votesC
participant "VotesController" as Ctrl
participant "voteService:VoteService" as Svc
participant "reviewRepository:ReviewRepository" as reviewRepository
participant ":ReviewRepository" as productRepository

activate Client

Client -> votesC : GET /order/{SKU}
votesC -> Ctrl: GET /order/{SKU}
Ctrl -> Svc : voteService.orderAllReviewsByVotes(sku)
Svc -> productRepository: findBySku(sku)
productRepository - -> Svc: ok
Svc -> reviewRepository: reviewRepository.orderByVotes(sku)
reviewRepository - -> Svc: reviews
Svc - -> Ctrl: reviews
Ctrl - -> votesC: reviews
votesC - -> Client: reviews

@enduml

@startuml

title Obtain the reviews of a product, sorted by number of votes and reverse chronological publishing date
autoactivate on
autonumber

actor "Client" as Client
participant ":VotesC_n" as votesC
participant "VotesController" as Ctrl
participant "voteService:VoteService" as Svc
participant "reviewRepository:ReviewRepository" as reviewRepository
participant ":ReviewRepository" as productRepository

activate Client

Client -> votesC : GET /order/{SKU}
votesC -> Ctrl: GET /order/{SKU}
Ctrl -> Svc : voteService.orderAllReviewsByVotes(sku)
Svc -> productRepository: findBySku(sku)
productRepository - -> Svc: ok
Svc -> reviewRepository: reviewRepository.orderByVotes(sku)
reviewRepository - -> Svc: reviews
Svc - -> Ctrl: reviews
Ctrl - -> votesC: reviews
votesC - -> Client: reviews

@enduml

PlantUML version 1.2022.13(Sat Nov 19 13:22:17 WET 2022)
(GPL source distribution)
Java Runtime: OpenJDK Runtime Environment
JVM: OpenJDK 64-Bit Server VM
Default Encoding: Cp1252
Language: pt
Country: PT
--></g></svg>
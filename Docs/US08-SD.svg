<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentStyleType="text/css" height="502px" preserveAspectRatio="none" style="width:1174px;height:502px;background:#FFFFFF;" version="1.1" viewBox="0 0 1174 502" width="1174px" zoomAndPan="magnify"><defs/><g><rect fill="none" height="25.6406" id="_title" style="stroke:none;stroke-width:1.0;" width="729" x="221.75" y="10"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="719" x="226.75" y="27.6738">Obtain the reviews of a product, sorted by number of votes and reverse chronological publishing date</text><rect fill="#FFFFFF" height="286.2344" style="stroke:#181818;stroke-width:1.0;" width="10" x="21" y="127.2813"/><rect fill="#FFFFFF" height="256.7109" style="stroke:#181818;stroke-width:1.0;" width="10" x="163" y="147.8047"/><rect fill="#FFFFFF" height="199.6641" style="stroke:#181818;stroke-width:1.0;" width="10" x="442" y="176.3281"/><rect fill="#FFFFFF" height="28.5234" style="stroke:#181818;stroke-width:1.0;" width="10" x="691" y="318.9453"/><rect fill="#FFFFFF" height="85.5703" style="stroke:#181818;stroke-width:1.0;" width="10" x="927" y="204.8516"/><rect fill="#FFFFFF" height="28.5234" style="stroke:#181818;stroke-width:1.0;" width="10" x="1103.5" y="233.375"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="26" x2="26" y1="117.2813" y2="422.5156"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="168" x2="168" y1="117.2813" y2="422.5156"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="447" x2="447" y1="117.2813" y2="422.5156"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="695.5" x2="695.5" y1="117.2813" y2="422.5156"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="931.5" x2="931.5" y1="117.2813" y2="422.5156"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="1108.5" x2="1108.5" y1="117.2813" y2="422.5156"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="36" x="5" y="114.3145">Client</text><ellipse cx="26" cy="50.1406" fill="#E2E2F0" rx="8" ry="8" style="stroke:#181818;stroke-width:0.5;"/><path d="M26,58.1406 L26,85.1406 M13,66.1406 L39,66.1406 M26,85.1406 L13,100.1406 M26,85.1406 L39,100.1406 " fill="none" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="36" x="5" y="434.1895">Client</text><ellipse cx="26" cy="445.6563" fill="#E2E2F0" rx="8" ry="8" style="stroke:#181818;stroke-width:0.5;"/><path d="M26,453.6563 L26,480.6563 M13,461.6563 L39,461.6563 M26,480.6563 L13,495.6563 M26,480.6563 L39,495.6563 " fill="none" style="stroke:#181818;stroke-width:0.5;"/><rect fill="#E2E2F0" height="29.6406" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="112" x="112" y="86.6406"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="98" x="119" y="106.3145">VotesController</text><rect fill="#E2E2F0" height="29.6406" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="112" x="112" y="421.5156"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="98" x="119" y="441.1895">VotesController</text><rect fill="#E2E2F0" height="29.6406" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="168" x="363" y="86.6406"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="154" x="370" y="106.3145">voteService:VoteService</text><rect fill="#E2E2F0" height="29.6406" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="168" x="363" y="421.5156"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="154" x="370" y="441.1895">voteService:VoteService</text><rect fill="#E2E2F0" height="29.6406" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="239" x="576.5" y="86.6406"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="225" x="583.5" y="106.3145">reviewRepository:ReviewRepository</text><rect fill="#E2E2F0" height="29.6406" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="239" x="576.5" y="421.5156"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="225" x="583.5" y="441.1895">reviewRepository:ReviewRepository</text><rect fill="#E2E2F0" height="29.6406" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="213" x="825.5" y="86.6406"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="199" x="832.5" y="106.3145">requestService:RequestService</text><rect fill="#E2E2F0" height="29.6406" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="213" x="825.5" y="421.5156"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="199" x="832.5" y="441.1895">requestService:RequestService</text><rect fill="#E2E2F0" height="29.6406" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="120" x="1048.5" y="86.6406"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="106" x="1055.5" y="106.3145">:ProductInstance</text><rect fill="#E2E2F0" height="29.6406" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="120" x="1048.5" y="421.5156"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="106" x="1055.5" y="441.1895">:ProductInstance</text><rect fill="#FFFFFF" height="286.2344" style="stroke:#181818;stroke-width:1.0;" width="10" x="21" y="127.2813"/><rect fill="#FFFFFF" height="256.7109" style="stroke:#181818;stroke-width:1.0;" width="10" x="163" y="147.8047"/><rect fill="#FFFFFF" height="199.6641" style="stroke:#181818;stroke-width:1.0;" width="10" x="442" y="176.3281"/><rect fill="#FFFFFF" height="28.5234" style="stroke:#181818;stroke-width:1.0;" width="10" x="691" y="318.9453"/><rect fill="#FFFFFF" height="85.5703" style="stroke:#181818;stroke-width:1.0;" width="10" x="927" y="204.8516"/><rect fill="#FFFFFF" height="28.5234" style="stroke:#181818;stroke-width:1.0;" width="10" x="1103.5" y="233.375"/><polygon fill="#181818" points="151,143.8047,161,147.8047,151,151.8047,155,147.8047" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="31" x2="157" y1="147.8047" y2="147.8047"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="38" y="143.0498">1</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="102" x="49" y="143.0498">GET /order/{SKU}</text><polygon fill="#181818" points="430,172.3281,440,176.3281,430,180.3281,434,176.3281" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="173" x2="436" y1="176.3281" y2="176.3281"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="180" y="171.5732">2</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="239" x="191" y="171.5732">voteService.orderAllReviewsByVotes(sku)</text><polygon fill="#181818" points="915,200.8516,925,204.8516,915,208.8516,919,204.8516" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="452" x2="921" y1="204.8516" y2="204.8516"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="459" y="200.0967">3</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="173" x="470" y="200.0967">getStatusCodeOfProduct(sku)</text><polygon fill="#181818" points="1091.5,229.375,1101.5,233.375,1091.5,237.375,1095.5,233.375" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="937" x2="1097.5" y1="233.375" y2="233.375"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="944" y="228.6201">4</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="117" x="955" y="228.6201">GET /products/{sku}</text><polygon fill="#181818" points="948,257.8984,938,261.8984,948,265.8984,944,261.8984" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="942" x2="1107.5" y1="261.8984" y2="261.8984"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="954" y="257.1436">5</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="14" x="965" y="257.1436">ok</text><polygon fill="#181818" points="463,286.4219,453,290.4219,463,294.4219,459,290.4219" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="457" x2="931" y1="290.4219" y2="290.4219"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="469" y="285.667">6</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="14" x="480" y="285.667">ok</text><polygon fill="#181818" points="679,314.9453,689,318.9453,679,322.9453,683,318.9453" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="452" x2="685" y1="318.9453" y2="318.9453"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="459" y="314.1904">7</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="209" x="470" y="314.1904">reviewRepository.orderByVotes(sku)</text><polygon fill="#181818" points="463,343.4688,453,347.4688,463,351.4688,459,347.4688" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="457" x2="695" y1="347.4688" y2="347.4688"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="469" y="342.7139">8</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="42" x="480" y="342.7139">reviews</text><polygon fill="#181818" points="184,371.9922,174,375.9922,184,379.9922,180,375.9922" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="178" x2="446" y1="375.9922" y2="375.9922"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="190" y="371.2373">9</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="42" x="201" y="371.2373">reviews</text><polygon fill="#181818" points="42,400.5156,32,404.5156,42,408.5156,38,404.5156" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="36" x2="167" y1="404.5156" y2="404.5156"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="48" y="399.7607">10</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="42" x="66" y="399.7607">reviews</text><!--MD5=[0f1ebfa665490c649d191414136bd932]
@startuml
'https://plantuml.com/sequence-diagram

title Obtain the reviews of a product, sorted by number of votes and reverse chronological publishing date
autoactivate on
autonumber

actor "Client" as Client
participant "VotesController" as Ctrl
participant "voteService:VoteService" as Svc
participant "reviewRepository:ReviewRepository" as reviewRepository
participant "requestService:RequestService" as request
participant ":ProductInstance" as instance

activate Client

Client -> Ctrl : GET /order/{SKU}
Ctrl -> Svc : voteService.orderAllReviewsByVotes(sku)
Svc -> request: getStatusCodeOfProduct(sku)
request -> instance: GET /products/{sku}
instance - -> request: ok
request - -> Svc: ok
Svc -> reviewRepository: reviewRepository.orderByVotes(sku)
reviewRepository - -> Svc: reviews
Svc - -> Ctrl: reviews
Ctrl - -> Client: reviews

@enduml

@startuml

title Obtain the reviews of a product, sorted by number of votes and reverse chronological publishing date
autoactivate on
autonumber

actor "Client" as Client
participant "VotesController" as Ctrl
participant "voteService:VoteService" as Svc
participant "reviewRepository:ReviewRepository" as reviewRepository
participant "requestService:RequestService" as request
participant ":ProductInstance" as instance

activate Client

Client -> Ctrl : GET /order/{SKU}
Ctrl -> Svc : voteService.orderAllReviewsByVotes(sku)
Svc -> request: getStatusCodeOfProduct(sku)
request -> instance: GET /products/{sku}
instance - -> request: ok
request - -> Svc: ok
Svc -> reviewRepository: reviewRepository.orderByVotes(sku)
reviewRepository - -> Svc: reviews
Svc - -> Ctrl: reviews
Ctrl - -> Client: reviews

@enduml

PlantUML version 1.2022.12(Sun Oct 23 19:12:26 WEST 2022)
(GPL source distribution)
Java Runtime: OpenJDK Runtime Environment
JVM: OpenJDK 64-Bit Server VM
Default Encoding: Cp1252
Language: pt
Country: PT
--></g></svg>